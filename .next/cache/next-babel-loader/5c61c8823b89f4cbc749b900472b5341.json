{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/arifin/Documents/pretest/dashboard/src/pages/payments/edit/[id].js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport * as React from 'react';\nimport { Button, Row, Col, Card, Form, InputGroup, FormControl, Modal, Tabs, Tab, Alert, Table } from 'react-bootstrap';\nimport DataTable, { createTheme } from 'react-data-table-component';\nimport Layout from '../../../components/Layout';\nimport { connect } from 'react-redux';\nimport Router from \"next/router\";\nimport { toast } from 'react-toastify';\nimport { alertSuccess, alertDanger } from '../../../components/alert';\nimport { getUser as _getUser } from \"../../../redux/actions/user\";\nimport { updatePayment as _updatePayment, showPayment as _showPayment } from \"../../../redux/actions/payment\";\n\nvar index = /*#__PURE__*/function (_React$Component) {\n  _inherits(index, _React$Component);\n\n  var _super = _createSuper(index);\n\n  function index(props) {\n    var _this;\n\n    _classCallCheck(this, index);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"getTotalPercents\", function (data) {\n      var total = 0;\n      data.forEach(function (item) {\n        total += item.percent;\n      });\n      _this.state.total_percent = total;\n      return parseFloat(total);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"addEmployee\", /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _this.setState({\n                modalProduct: true\n              });\n\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    })));\n\n    _defineProperty(_assertThisInitialized(_this), \"searchItem\", /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _this.getData(1, _this.state.num);\n\n            case 1:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    })));\n\n    _defineProperty(_assertThisInitialized(_this), \"getData\", function (page) {\n      var size = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _this.state.num;\n      var payload = {\n        page: page,\n        limit: size\n      };\n\n      _this.props.getUser(payload).then(function () {\n        _this.setState({\n          data: _this.props.dataUser\n        });\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handlePageChange\", function (page) {\n      _this.getData(page);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handlePerRowsChange\", /*#__PURE__*/function () {\n      var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(newPerPage, page) {\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _this.getData(page, newPerPage);\n\n              case 1:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      return function (_x, _x2) {\n        return _ref3.apply(this, arguments);\n      };\n    }());\n\n    _defineProperty(_assertThisInitialized(_this), \"savePayment\", function (e) {\n      if (_this.state.total_percent > 0 && (_this.state.total_percent > 100 || _this.state.total_percent < 100)) {\n        toast.error(\"Percent must be in 100 %\", {\n          position: toast.POSITION.TOP_RIGHT,\n          autoClose: 3000\n        });\n      }\n\n      var items = [];\n\n      _this.state.keranjang.forEach(function (item) {\n        items.push({\n          user_id: item.id,\n          percent: item.percent,\n          wage_price: item.wage_price\n        });\n      });\n\n      var payload = {\n        name: _this.state.name,\n        bonus: _this.state.bonus,\n        wages: items\n      };\n\n      _this.props.updatePayment(Router.router.query.id, payload).then(function () {\n        Router.replace(\"/payments\");\n        alertSuccess('Payment updated');\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"submitCheckOut\", function () {\n      _this.savePayment();\n    });\n\n    _this.state = {\n      modalProduct: false,\n      columns: [{\n        name: 'ID',\n        selector: function selector(row, index) {\n          return index + 1 + (_this.state.page - 1) * _this.state.num + '.';\n        },\n        sortable: true,\n        width: '10%'\n      }, {\n        name: 'Name',\n        selector: 'name',\n        sortable: true\n      }, {\n        name: 'Actions',\n        selector: function selector(row, index) {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              color: 'green'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              style: {\n                color: '#FFF',\n                borderRadius: '50%',\n                background: 'green',\n                padding: '2px'\n              },\n              className: \"fa fa-plus\",\n              onClick: function onClick() {\n                var keranjang = _this.state.keranjang; // row.attributes.amount = Number(row.attributes.amount)\n\n                row.percent = 0;\n                row.wage_price = 0;\n                keranjang.push(row);\n\n                _this.setState({\n                  keranjang: keranjang\n                });\n\n                var delete_data = _toConsumableArray(_this.state.data);\n\n                delete_data.splice(index, 1);\n\n                _this.setState({\n                  data: delete_data\n                });\n\n                alertSuccess('items added!');\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 32,\n              columnNumber: 79\n            }, _assertThisInitialized(_this)), \" Add\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 32,\n            columnNumber: 48\n          }, _assertThisInitialized(_this));\n        },\n        width: '10%'\n      }],\n      data: [],\n      dataDetail: null,\n      keranjang: [],\n      total: 0,\n      bonus: 0,\n      name: null,\n      date: '',\n      page: 1,\n      num: 5,\n      total_items: 0,\n      dataSearch: null,\n      modalShow: false,\n      modalOrder: false,\n      wages: [],\n      includeProduct: null,\n      search_item: '',\n      total_percent: 0\n    };\n    return _this;\n  }\n\n  _createClass(index, [{\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n        var _this2 = this;\n\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                this.props.showPayment(Router.router.query.id, {}).then(function () {\n                  console.log(_this2.props.data.data);\n\n                  _this2.props.data.data.wage.forEach(function (item) {\n                    item.percent = item.percent;\n                    item.wage_price = item.wage_price;\n                    item.user.name = item.user.name;\n                  });\n\n                  _this2.setState({\n                    keranjang: _this2.props.data.wage,\n                    name: _this2.props.data.name,\n                    date: _this2.props.data.created_at,\n                    bonus: _this2.props.data.bonus\n                  });\n                });\n\n              case 1:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n\n      return componentDidMount;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return /*#__PURE__*/_jsxDEV(Layout, {\n        title: \"Edit Payment\",\n        classname: \"dashboard theme-light\",\n        children: [/*#__PURE__*/_jsxDEV(Modal, {\n          show: this.state.modalProduct,\n          onHide: function onHide() {\n            return _this3.setState({\n              modalProduct: false\n            });\n          },\n          size: \"lg\",\n          \"aria-labelledby\": \"contained-modal-title-vcenter\",\n          centered: true,\n          children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n            closeButton: true,\n            style: {\n              border: 'none'\n            },\n            children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n              children: \"Add Employee\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n            children: /*#__PURE__*/_jsxDEV(Tabs, {\n              style: {\n                justifyContent: 'left'\n              },\n              defaultActiveKey: \"products\",\n              transition: false,\n              id: \"noanim-tab-example\",\n              children: /*#__PURE__*/_jsxDEV(Tab, {\n                eventKey: \"products\",\n                title: \"Data\",\n                children: [/*#__PURE__*/_jsxDEV(Row, {\n                  className: \"mt-5\",\n                  children: /*#__PURE__*/_jsxDEV(Col, {\n                    xs: 12,\n                    children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                      as: Row,\n                      controlId: \"formPlaintextPassword\",\n                      children: [/*#__PURE__*/_jsxDEV(Col, {\n                        sm: \"5\",\n                        children: /*#__PURE__*/_jsxDEV(Form.Control, {\n                          type: \"text\",\n                          placeholder: \"Cari Item\",\n                          defaultValue: this.state.search_item,\n                          onChange: function onChange(e) {\n                            return _this3.setState({\n                              search_item: e.target.value\n                            });\n                          }\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 183,\n                          columnNumber: 41\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 182,\n                        columnNumber: 37\n                      }, this), /*#__PURE__*/_jsxDEV(Col, {\n                        sm: \"2\",\n                        children: /*#__PURE__*/_jsxDEV(Button, {\n                          onClick: this.searchItem,\n                          variant: \"success\",\n                          style: {\n                            width: '100%'\n                          },\n                          size: \"sm\",\n                          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                            className: \"fa fa-search\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 186,\n                            columnNumber: 129\n                          }, this), \" Cari Item\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 186,\n                          columnNumber: 41\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 185,\n                        columnNumber: 37\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 181,\n                      columnNumber: 33\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 180,\n                    columnNumber: 33\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 179,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(Row, {\n                  children: /*#__PURE__*/_jsxDEV(Col, {\n                    xs: 12,\n                    children: /*#__PURE__*/_jsxDEV(DataTable, {\n                      noHeader: true,\n                      data: this.state.data,\n                      columns: this.state.columns,\n                      highlightOnHover: true,\n                      paginationTotalRows: this.state.total_items,\n                      paginationPerPage: this.state.num,\n                      pagination: true,\n                      paginationServer: true,\n                      onChangePage: this.handlePageChange,\n                      onChangeRowsPerPage: this.handlePerRowsChange\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 193,\n                      columnNumber: 37\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 192,\n                    columnNumber: 33\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 191,\n                  columnNumber: 29\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 178,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n            style: {\n              border: 'none'\n            },\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"success\",\n              onClick: function onClick() {\n                return _this3.setState({\n                  modalProduct: false\n                });\n              },\n              children: \"FINISH\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Card, {\n          style: {\n            backgroundColor: 'white',\n            borderRadius: '10px'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-5\",\n            children: [/*#__PURE__*/_jsxDEV(Form, {\n              className: \"m-5\",\n              children: /*#__PURE__*/_jsxDEV(Row, {\n                children: [/*#__PURE__*/_jsxDEV(Col, {\n                  xs: 6,\n                  children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                    as: Row,\n                    controlId: \"formPlaintextPassword\",\n                    children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                      column: true,\n                      sm: \"3\",\n                      children: \"Transaction Name\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 222,\n                      columnNumber: 37\n                    }, this), /*#__PURE__*/_jsxDEV(Col, {\n                      sm: \"9\",\n                      children: /*#__PURE__*/_jsxDEV(Form.Control, {\n                        type: \"text\",\n                        placeholder: \"Transaction Name\",\n                        onChange: function onChange(e) {\n                          return _this3.setState({\n                            name: e.target.value\n                          });\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 226,\n                        columnNumber: 41\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 225,\n                      columnNumber: 37\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 221,\n                    columnNumber: 33\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 220,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(Col, {\n                  xs: 6,\n                  children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                    as: Row,\n                    controlId: \"formPlaintextPassword\",\n                    children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                      column: true,\n                      sm: \"3\",\n                      children: \"Bonus\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 233,\n                      columnNumber: 37\n                    }, this), /*#__PURE__*/_jsxDEV(Col, {\n                      sm: \"9\",\n                      children: /*#__PURE__*/_jsxDEV(Form.Control, {\n                        type: \"text\",\n                        placeholder: \"Bonus\",\n                        onChange: function onChange(e) {\n                          return _this3.setState({\n                            bonus: e.target.value\n                          });\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 237,\n                        columnNumber: 41\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 236,\n                      columnNumber: 37\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 232,\n                    columnNumber: 33\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 231,\n                  columnNumber: 29\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 219,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Table, {\n              size: \"lg\",\n              className: \"mb-5 table-size\",\n              responsive: true,\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"pl-5\",\n                    children: \"No\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 247,\n                    columnNumber: 33\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Emplpyee Name\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 248,\n                    columnNumber: 33\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Percent (%)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 249,\n                    columnNumber: 33\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Price (IDR)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 250,\n                    columnNumber: 33\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"pr-5\",\n                    children: \"Actions\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 251,\n                    columnNumber: 33\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 246,\n                  columnNumber: 29\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 245,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: this.state.keranjang.map(function (r, index) {\n                  var _jsxDEV2;\n\n                  return /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"pl-5\",\n                      children: index + 1\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 257,\n                      columnNumber: 37\n                    }, _this3), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: _this3.state.user.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 258,\n                      columnNumber: 37\n                    }, _this3), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: /*#__PURE__*/_jsxDEV(Form.Control, (_jsxDEV2 = {\n                        type: \"number\",\n                        max: \"100\",\n                        defaultValue: \"0\"\n                      }, _defineProperty(_jsxDEV2, \"defaultValue\", _this3.state.percent), _defineProperty(_jsxDEV2, \"onChange\", function onChange(e) {\n                        var items = _toConsumableArray(_this3.state.keranjang);\n\n                        var item = _objectSpread({}, items[index]);\n\n                        var attributes = _objectSpread({}, item);\n\n                        var total_harga = _this3.state.bonus * e.target.value / 100;\n                        attributes.wage_price = total_harga;\n                        attributes.percent = e.target.value;\n                        items[index] = attributes;\n\n                        _this3.setState({\n                          keranjang: items\n                        });\n                      }), _jsxDEV2), void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 262,\n                        columnNumber: 41\n                      }, _this3)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 262,\n                      columnNumber: 37\n                    }, _this3), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: _this3.state.wage_price\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 277,\n                      columnNumber: 37\n                    }, _this3), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"pr-5\",\n                      children: /*#__PURE__*/_jsxDEV(\"i\", {\n                        className: \"fa fa-trash\",\n                        style: {\n                          color: 'red'\n                        },\n                        onClick: function onClick() {\n                          var data_delete = _toConsumableArray(_this3.state.keranjang);\n\n                          data_delete.splice(index, 1);\n\n                          _this3.setState({\n                            keranjang: data_delete\n                          });\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 279,\n                        columnNumber: 41\n                      }, _this3)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 278,\n                      columnNumber: 37\n                    }, _this3)]\n                  }, index, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 256,\n                    columnNumber: 33\n                  }, _this3);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 254,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Row, {\n              style: {\n                textAlign: 'right'\n              },\n              className: \"mr-5\",\n              children: /*#__PURE__*/_jsxDEV(Col, {\n                xs: 12,\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"outline-success\",\n                  onClick: this.addEmployee,\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fa fa-plus\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 295,\n                    columnNumber: 90\n                  }, this), \" Add Products\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 295,\n                  columnNumber: 29\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 294,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Row, {\n              style: {\n                textAlign: 'right'\n              },\n              className: \"mt-5 mr-5\",\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                xs: 10,\n                children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"TOTAL PERCENT\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 301,\n                  columnNumber: 29\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 300,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                xs: 2,\n                children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: [\"Rp \", this.getTotalPercents(this.state.keranjang), \" %\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 305,\n                  columnNumber: 29\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 304,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 299,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Row, {\n              style: {\n                textAlign: 'right'\n              },\n              className: \"mt-5 mr-5\",\n              children: /*#__PURE__*/_jsxDEV(Col, {\n                xs: 12\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 311,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }, this);\n    }\n  }]);\n\n  return index;\n}(React.Component);\n\nfunction mapStateToProps(state) {\n  var _state$user = state.user,\n      dataUser = _state$user.dataUser,\n      total = _state$user.total;\n  var data = state.payment.data;\n  return {\n    dataUser: dataUser,\n    total: total,\n    data: data\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    getUser: function getUser(opts) {\n      return dispatch(_getUser(opts));\n    },\n    updatePayment: function updatePayment(id, payload, opts) {\n      return dispatch(_updatePayment(id, payload, opts));\n    },\n    showPayment: function showPayment(id, payload, opts) {\n      return dispatch(_showPayment(id, payload, opts));\n    }\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(index);","map":{"version":3,"sources":["/home/arifin/Documents/pretest/dashboard/src/pages/payments/edit/[id].js"],"names":["React","Button","Row","Col","Card","Form","InputGroup","FormControl","Modal","Tabs","Tab","Alert","Table","DataTable","createTheme","Layout","connect","Router","toast","alertSuccess","alertDanger","getUser","updatePayment","showPayment","index","props","data","total","forEach","item","percent","state","total_percent","parseFloat","setState","modalProduct","getData","num","page","size","payload","limit","then","dataUser","newPerPage","e","error","position","POSITION","TOP_RIGHT","autoClose","items","keranjang","push","user_id","id","wage_price","name","bonus","wages","router","query","replace","savePayment","columns","selector","row","sortable","width","color","borderRadius","background","padding","delete_data","splice","dataDetail","date","total_items","dataSearch","modalShow","modalOrder","includeProduct","search_item","console","log","wage","user","created_at","border","justifyContent","target","value","searchItem","handlePageChange","handlePerRowsChange","backgroundColor","map","r","attributes","total_harga","data_delete","textAlign","addEmployee","getTotalPercents","Component","mapStateToProps","payment","mapDispatchToProps","dispatch","opts"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport {Button, Row, Col, Card, Form, InputGroup, FormControl, Modal, Tabs, Tab, Alert, Table} from 'react-bootstrap';\nimport DataTable, { createTheme } from 'react-data-table-component';\nimport Layout from '../../../components/Layout';\nimport {connect} from 'react-redux'\nimport Router from \"next/router\";\nimport {toast} from 'react-toastify'\nimport {alertSuccess, alertDanger} from '../../../components/alert'\nimport { getUser } from \"../../../redux/actions/user\";\nimport { updatePayment, showPayment } from \"../../../redux/actions/payment\";\n\nclass index extends React.Component {\n    \n    constructor(props){\n        super(props)\n        this.state = {\n            modalProduct: false,\n            columns: [\n                {\n                    name: 'ID',\n                    selector: (row, index) =>  ((index+1) + (this.state.page - 1) * this.state.num) + '.',\n                    sortable: true,\n                    width: '10%'\n                },\n                {\n                    name: 'Name',\n                    selector: 'name',\n                    sortable: true,\n                },\n                {\n                    name: 'Actions',\n                    selector: (row, index) => (<div style={{ color:'green' }}><i style={{ color:'#FFF', borderRadius:'50%', background:'green', padding:'2px' }} className=\"fa fa-plus\" onClick={ () => {\n                        let keranjang = this.state.keranjang\n                        // row.attributes.amount = Number(row.attributes.amount)\n                        row.percent = 0\n                        row.wage_price = 0       \n                        keranjang.push(row)\n                        this.setState({\n                            keranjang: keranjang\n                        })\n                        let delete_data = [...this.state.data]\n                        delete_data.splice(index, 1)\n                        this.setState({\n                            data: delete_data\n                        })\n                        alertSuccess('items added!')\n                        \n                    }}></i> Add</div>),\n                    width: '10%'\n                }\n            ],\n            data: [],\n            dataDetail: null,\n            keranjang: [],\n            total: 0,\n            bonus:0,\n            name: null, \n            date:'',\n            page: 1,\n            num: 5,\n            total_items: 0,\n            dataSearch: null,\n            modalShow: false,\n            modalOrder: false,\n            wages:[],\n            includeProduct: null,\n            search_item: '',\n            total_percent: 0\n\n        }\n    }\n\n    getTotalPercents = (data) => {\n        let total = 0;\n        data.forEach(item => {\n          total += item.percent;\n        });\n\n        this.state.total_percent = total\n        return parseFloat(total);\n    };\n\n    addEmployee = async () => {\n        this.setState({ modalProduct:true })\n    }\n    searchItem = async () => {\n        this.getData(1, this.state.num)\n    }\n\n    getData = (page, size = this.state.num) => {\n        let payload = {\n            page: page,\n            limit: size,\n        }\n        this.props.getUser(payload).then(() => {\n            this.setState({\n                data: this.props.dataUser,\n            })\n        })\n    }\n    handlePageChange = page => {\n        this.getData(page)\n    }\n\n    handlePerRowsChange = async (newPerPage, page) => {\n        this.getData(page, newPerPage);\n    };\n\n    async componentDidMount() {\n        this.props.showPayment(Router.router.query.id, {}).then(() => {\n            console.log(this.props.data.data)\n            this.props.data.data.wage.forEach(item => {\n                item.percent = item.percent\n                item.wage_price = item.wage_price\n                item.user.name = item.user.name\n            });\n            this.setState({\n                keranjang: this.props.data.wage,\n                name: this.props.data.name,\n                date: this.props.data.created_at,\n                bonus: this.props.data.bonus\n            })\n        })\n    }\n\n    savePayment = (e) => {\n        if(this.state.total_percent > 0 && (this.state.total_percent > 100 || this.state.total_percent < 100)){\n            toast.error(\"Percent must be in 100 %\", {\n                position: toast.POSITION.TOP_RIGHT,\n                autoClose: 3000\n            })\n        }\n        let items = []\n        this.state.keranjang.forEach(item => {\n            items.push({\n                user_id: item.id,\n                percent: item.percent,\n                wage_price: item.wage_price\n            })\n        });\n        \n        let payload = {\n            name: this.state.name,\n            bonus:this.state.bonus,\n            wages: items\n        }\n        \n        this.props.updatePayment(Router.router.query.id, payload).then(() => {\n            Router.replace(\"/payments\");\n            alertSuccess('Payment updated')\n        })\n    }\n\n    submitCheckOut = () => {\n        this.savePayment()\n    }\n  \n    render () {\n  \n      return (\n        \n        <Layout title=\"Edit Payment\" classname=\"dashboard theme-light\">\n            <Modal \n                show={this.state.modalProduct} \n                onHide={() => this.setState({ modalProduct: false })}\n                size=\"lg\"\n                aria-labelledby=\"contained-modal-title-vcenter\"\n                centered\n            >\n                <Modal.Header closeButton style={{ border:'none'}}>\n                    <Modal.Title>Add Employee</Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n                    <Tabs\n                        style={{justifyContent: 'left'}}\n                        defaultActiveKey=\"products\" transition={false} id=\"noanim-tab-example\"\n                    >\n                        <Tab eventKey=\"products\" title=\"Data\">\n                            <Row className=\"mt-5\">\n                                <Col xs={12}>\n                                <Form.Group as={Row} controlId=\"formPlaintextPassword\">\n                                    <Col sm=\"5\">\n                                        <Form.Control type=\"text\" placeholder=\"Cari Item\" defaultValue={this.state.search_item} onChange={(e) => this.setState({search_item: e.target.value})} />\n                                    </Col>\n                                    <Col sm=\"2\">\n                                        <Button onClick={this.searchItem} variant=\"success\" style={{ width: '100%' }} size=\"sm\"><i className=\"fa fa-search\"></i> Cari Item</Button>\n                                    </Col>\n                                </Form.Group>\n                                </Col>\n                            </Row>\n                            <Row>\n                                <Col xs={12}>\n                                    <DataTable\n                                        noHeader\n                                        data={this.state.data}\n                                        columns={this.state.columns}\n                                        highlightOnHover\n                                        paginationTotalRows={this.state.total_items}\n                                        paginationPerPage={this.state.num}\n                                        pagination\n                                        paginationServer\n                                        onChangePage={this.handlePageChange}\n                                        onChangeRowsPerPage={this.handlePerRowsChange}\n                                    />\n                                </Col>\n                            </Row>\n                        </Tab>\n                    </Tabs>\n                </Modal.Body>\n                <Modal.Footer style={{ border:'none'}}>\n                <Button variant=\"success\" onClick={() => this.setState({ modalProduct: false })}>\n                    FINISH\n                </Button>\n                </Modal.Footer>\n            </Modal>\n            <Card style={{ backgroundColor: 'white', borderRadius:'10px' }} >\n                <div className=\"mb-5\">\n                    <Form className=\"m-5\">\n                        <Row>\n                            <Col xs={6}>\n                                <Form.Group as={Row} controlId=\"formPlaintextPassword\">\n                                    <Form.Label column sm=\"3\">\n                                        Transaction Name\n                                    </Form.Label>\n                                    <Col sm=\"9\">\n                                        <Form.Control type=\"text\" placeholder=\"Transaction Name\" onChange={(e) => this.setState({ name: e.target.value })} />\n                                    </Col>\n                                </Form.Group>\n\n                            </Col>\n                            <Col xs={6}>\n                                <Form.Group as={Row} controlId=\"formPlaintextPassword\">\n                                    <Form.Label column sm=\"3\">\n                                    Bonus\n                                    </Form.Label>\n                                    <Col sm=\"9\">\n                                        <Form.Control type=\"text\" placeholder=\"Bonus\" onChange={(e) => this.setState({ bonus: e.target.value })} />\n                                    </Col>\n                                    \n                                </Form.Group>\n                            </Col>\n                        </Row>\n                    </Form>\n                    <Table size=\"lg\" className=\"mb-5 table-size\" responsive>\n                        <thead>\n                            <tr>\n                                <th className=\"pl-5\">No</th>\n                                <th>Emplpyee Name</th>\n                                <th>Percent (%)</th>\n                                <th>Price (IDR)</th>\n                                <th className=\"pr-5\">Actions</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            {this.state.keranjang.map((r, index) => (\n                                <tr key={index}>\n                                    <td className=\"pl-5\">{index+1}</td>\n                                    <td>\n                                        {this.state.user.name}\n                                    </td>\n\n                                    <td><Form.Control type=\"number\" max=\"100\" defaultValue=\"0\" defaultValue={this.state.percent} \n                                    onChange={(e) => {\n                                        let items = [...this.state.keranjang];\n                                        let item = {...items[index]};\n                                        let attributes = {...item}\n                                        let total_harga = (this.state.bonus * e.target.value)/100\n                                        attributes.wage_price = total_harga\n                                        attributes.percent = e.target.value\n                                        items[index] = attributes;\n                                        this.setState({\n                                            keranjang: items,\n                                        })\n                                    }} \n                                    />\n                                    </td>\n                                    <td>{ this.state.wage_price }</td>\n                                    <td className=\"pr-5\">\n                                        <i className=\"fa fa-trash\" style={{ color:'red' }}\n                                            onClick={() => {\n                                                let data_delete = [...this.state.keranjang]\n                                                data_delete.splice(index, 1)\n                                                this.setState({\n                                                    keranjang: data_delete\n                                                })\n                                            }}\n                                        ></i>\n                                    </td>\n                                </tr>\n                            ))}\n                        </tbody>\n                    </Table>\n                    <Row style={{ textAlign:'right' }} className=\"mr-5\">\n                        <Col xs={12}>\n                            <Button variant=\"outline-success\" onClick={this.addEmployee}><i className=\"fa fa-plus\"></i> Add Products</Button>\n                        </Col>\n                    </Row>\n\n                    <Row style={{ textAlign:'right' }} className=\"mt-5 mr-5\">\n                        <Col xs={10}>\n                            <strong>TOTAL PERCENT</strong> \n                        </Col>\n\n                        <Col xs={2}>\n                            <strong>Rp {this.getTotalPercents(this.state.keranjang)} %</strong>\n                        </Col>\n                    </Row>\n\n\n                    <Row style={{ textAlign:'right' }} className=\"mt-5 mr-5\">\n                        <Col xs={12}>\n                            {/* <Button variant=\"secondary\">Cancel</Button> {' '} <Button variant=\"success\" onClick={this.submitCheckOut}> Submit</Button> */}\n                        </Col>\n                    </Row>\n                </div>\n            </Card>\n        </Layout>\n      );\n    }\n  }\n  function mapStateToProps ( state ) {\n    const { dataUser, total } = state.user;\n    const { data } = state.payment;\n    return {\n        dataUser,\n        total,\n        data,\n    };\n}\n\nfunction mapDispatchToProps (dispatch) {\n    return {\n        getUser: (opts) => dispatch(getUser(opts)),\n        updatePayment: (id, payload, opts) => dispatch(updatePayment(id, payload, opts)),\n        showPayment: (id, payload, opts) => dispatch(showPayment(id, payload, opts)),\n    }\n}\n\nexport default connect(mapStateToProps,mapDispatchToProps)(index);\n  "]},"metadata":{},"sourceType":"module"}