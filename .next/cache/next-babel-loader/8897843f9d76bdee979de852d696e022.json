{"ast":null,"code":"function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport AuthService from \"../../service/auth\";\nimport encryptedLS from \"libs/encryptedLS\";\nimport { showLoadingSpinner, hideLoadingSpinner } from \"components/Layout\";\nexport const LoginAuth = (email, password) => async (dispatch) => {\n  showLoadingSpinner();\n\n  try {\n    let response = await AuthService.login(email, password);\n    const user = response.data.data.user;\n    dispatch({\n      type: \"LOGIN_SUCCESS\",\n      payload: {\n        user\n      }\n    });\n    encryptedLS.set(\"___user_data\", _objectSpread(_objectSpread({}, response.data.data.token), {}, {\n      roles: response.data.data.user.roles,\n      permissions: response.data.data.permissions\n    }));\n    return true;\n  } catch (e) {\n    console.log(e);\n    hideLoadingSpinner();\n    throw {\n      message: e\n    };\n  }\n}; // export const LoginAuth = (email, password) => (dispatch) => {\n//   return AuthService.login(email, password).then(\n//     (data) => {\n//       dispatch({\n//         type: \"LOGIN_SUCCESS\",\n//         payload: { user: data.data.data.user },\n//       });\n//       encryptedLS.set(\"___user_data\", {\n//         ...data.data.data.token,\n//         permissions: data.data.data.permissions\n//       });\n//       return Promise.resolve();\n//     },\n//     (error) => {\n//       dispatch({\n//         type: \"LOGIN_FAIL\",\n//       });\n//       return Promise.reject();\n//     }\n//   );\n// };\n\nexport const logout = () => dispatch => {\n  AuthService.logout();\n  dispatch({\n    type: \"LOGOUT\"\n  });\n};","map":{"version":3,"sources":["/home/arifin/Documents/pretest/dashboard/src/redux/actions/auth.js"],"names":["AuthService","encryptedLS","showLoadingSpinner","hideLoadingSpinner","LoginAuth","email","password","dispatch","response","login","user","data","type","payload","set","token","roles","permissions","e","console","log","message","logout"],"mappings":";;;;;;AAAA,OAAOA,WAAP,MAAwB,oBAAxB;AACA,OAAOC,WAAP,MAAwB,kBAAxB;AACA,SAASC,kBAAT,EAA6BC,kBAA7B,QAAuD,mBAAvD;AAEA,OAAO,MAAMC,SAAS,GAAG,CAACC,KAAD,EAAQC,QAAR,KAAqB,OAC5CC,QAD4C,KAEzC;AACHL,EAAAA,kBAAkB;;AAClB,MAAI;AACF,QAAIM,QAAQ,GAAG,MAAMR,WAAW,CAACS,KAAZ,CAAkBJ,KAAlB,EAAyBC,QAAzB,CAArB;AAEA,UAAMI,IAAI,GAAGF,QAAQ,CAACG,IAAT,CAAcA,IAAd,CAAmBD,IAAhC;AAEAH,IAAAA,QAAQ,CAAC;AACPK,MAAAA,IAAI,EAAE,eADC;AAEPC,MAAAA,OAAO,EAAE;AAAEH,QAAAA;AAAF;AAFF,KAAD,CAAR;AAKAT,IAAAA,WAAW,CAACa,GAAZ,CAAgB,cAAhB,kCACKN,QAAQ,CAACG,IAAT,CAAcA,IAAd,CAAmBI,KADxB;AAEEC,MAAAA,KAAK,EAAER,QAAQ,CAACG,IAAT,CAAcA,IAAd,CAAmBD,IAAnB,CAAwBM,KAFjC;AAGEC,MAAAA,WAAW,EAAET,QAAQ,CAACG,IAAT,CAAcA,IAAd,CAAmBM;AAHlC;AAKA,WAAO,IAAP;AACD,GAhBD,CAgBE,OAAOC,CAAP,EAAU;AACVC,IAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACAf,IAAAA,kBAAkB;AAClB,UAAM;AACJkB,MAAAA,OAAO,EAAEH;AADL,KAAN;AAGD;AACF,CA3BM,C,CA4BP;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;;AAEA,OAAO,MAAMI,MAAM,GAAG,MAAOf,QAAD,IAAc;AACxCP,EAAAA,WAAW,CAACsB,MAAZ;AAEAf,EAAAA,QAAQ,CAAC;AACPK,IAAAA,IAAI,EAAE;AADC,GAAD,CAAR;AAGD,CANM","sourcesContent":["import AuthService from \"../../service/auth\";\nimport encryptedLS from \"libs/encryptedLS\";\nimport { showLoadingSpinner, hideLoadingSpinner } from \"components/Layout\";\n\nexport const LoginAuth = (email, password) => async (\n  dispatch\n) => {\n  showLoadingSpinner();\n  try {\n    let response = await AuthService.login(email, password);\n\n    const user = response.data.data.user;\n\n    dispatch({\n      type: \"LOGIN_SUCCESS\",\n      payload: { user },\n    });\n\n    encryptedLS.set(\"___user_data\", {\n      ...response.data.data.token,\n      roles: response.data.data.user.roles,\n      permissions: response.data.data.permissions,\n    });\n    return true;\n  } catch (e) {\n    console.log(e)\n    hideLoadingSpinner();\n    throw {\n      message: e,\n    };\n  }\n};\n// export const LoginAuth = (email, password) => (dispatch) => {\n//   return AuthService.login(email, password).then(\n//     (data) => {\n//       dispatch({\n//         type: \"LOGIN_SUCCESS\",\n//         payload: { user: data.data.data.user },\n//       });\n\n//       encryptedLS.set(\"___user_data\", {\n//         ...data.data.data.token,\n//         permissions: data.data.data.permissions\n//       });\n\n//       return Promise.resolve();\n//     },\n//     (error) => {\n//       dispatch({\n//         type: \"LOGIN_FAIL\",\n//       });\n\n//       return Promise.reject();\n//     }\n//   );\n// };\n\nexport const logout = () => (dispatch) => {\n  AuthService.logout();\n\n  dispatch({\n    type: \"LOGOUT\",\n  });\n};\n"]},"metadata":{},"sourceType":"module"}