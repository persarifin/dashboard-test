{"ast":null,"code":"\"use strict\";\n\nvar _encryptedLS = _interopRequireDefault(require(\"libs/encryptedLS\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst currentUserDontHaveRoles = roles => {\n  let currentSession = null;\n  currentSession = _encryptedLS.default.get(\"___user_data\");\n\n  if (!currentSession) {\n    return true;\n  }\n\n  const userRoles = currentSession.roles;\n\n  if (!userRoles || userRoles.length < 1) {\n    return true;\n  } // check if role super enterprise\n\n\n  if (userRoles.some(r => \"super_enterprise\".indexOf(r.custom_name) >= 0)) {\n    return false;\n  }\n\n  return userRoles.some(r => roles.indexOf(r.custom_name) >= 0);\n};\n\nconst currentUserDontHavePermissions = permissions => {\n  let currentSession = null;\n  let userPermissions = [];\n  currentSession = _encryptedLS.default.get(\"___user_data\");\n\n  if (!currentSession) {\n    return true;\n  }\n\n  userPermissions = currentSession.permissions;\n  if (!userPermissions || userPermissions.length < 1) return true;\n  return !permissions.some(r => userPermissions.indexOf(r) >= 0);\n};\n\nmodule.exports = {\n  currentUserDontHaveRoles,\n  currentUserDontHavePermissions\n};","map":{"version":3,"sources":["/home/arifin/Documents/semanggi/semanggi-bo/src/libs/rolePermission.js"],"names":["currentUserDontHaveRoles","roles","currentSession","encryptedLS","get","userRoles","length","some","r","indexOf","custom_name","currentUserDontHavePermissions","permissions","userPermissions","module","exports"],"mappings":";;AAAA;;;;AAEA,MAAMA,wBAAwB,GAAIC,KAAD,IAAW;AAC1C,MAAIC,cAAc,GAAG,IAArB;AAEAA,EAAAA,cAAc,GAAGC,qBAAYC,GAAZ,CAAgB,cAAhB,CAAjB;;AAEA,MAAG,CAACF,cAAJ,EAAmB;AACjB,WAAO,IAAP;AACD;;AAED,QAAMG,SAAS,GAAGH,cAAc,CAACD,KAAjC;;AAEA,MAAG,CAACI,SAAD,IAAcA,SAAS,CAACC,MAAV,GAAmB,CAApC,EAAsC;AACpC,WAAO,IAAP;AACD,GAbyC,CAe1C;;;AACA,MAAGD,SAAS,CAACE,IAAV,CAAgBC,CAAD,IAAO,mBAAmBC,OAAnB,CAA2BD,CAAC,CAACE,WAA7B,KAA6C,CAAnE,CAAH,EAAyE;AACvE,WAAO,KAAP;AACD;;AAED,SAAOL,SAAS,CAACE,IAAV,CAAgBC,CAAD,IAAOP,KAAK,CAACQ,OAAN,CAAcD,CAAC,CAACE,WAAhB,KAAgC,CAAtD,CAAP;AACD,CArBD;;AAuBA,MAAMC,8BAA8B,GAAIC,WAAD,IAAiB;AACtD,MAAIV,cAAc,GAAG,IAArB;AACA,MAAIW,eAAe,GAAG,EAAtB;AACAX,EAAAA,cAAc,GAAGC,qBAAYC,GAAZ,CAAgB,cAAhB,CAAjB;;AAEA,MAAG,CAACF,cAAJ,EAAmB;AACjB,WAAO,IAAP;AACD;;AAEDW,EAAAA,eAAe,GAAGX,cAAc,CAACU,WAAjC;AAEA,MAAI,CAACC,eAAD,IAAoBA,eAAe,CAACP,MAAhB,GAAyB,CAAjD,EAAqD,OAAO,IAAP;AAErD,SAAO,CAACM,WAAW,CAACL,IAAZ,CAAkBC,CAAD,IAAOK,eAAe,CAACJ,OAAhB,CAAwBD,CAAxB,KAA8B,CAAtD,CAAR;AACD,CAdD;;AAgBAM,MAAM,CAACC,OAAP,GAAiB;AACff,EAAAA,wBADe;AAEfW,EAAAA;AAFe,CAAjB","sourcesContent":["import encryptedLS from \"libs/encryptedLS\";\n\nconst currentUserDontHaveRoles = (roles) => {\n  let currentSession = null;\n  \n  currentSession = encryptedLS.get(\"___user_data\");\n  \n  if(!currentSession){\n    return true;\n  }\n  \n  const userRoles = currentSession.roles;\n  \n  if(!userRoles || userRoles.length < 1){\n    return true;\n  }\n  \n  // check if role super enterprise\n  if(userRoles.some((r) => \"super_enterprise\".indexOf(r.custom_name) >= 0)){\n    return false;\n  }\n\n  return userRoles.some((r) => roles.indexOf(r.custom_name) >= 0)\n}\n\nconst currentUserDontHavePermissions = (permissions) => {\n  let currentSession = null;\n  let userPermissions = [];\n  currentSession = encryptedLS.get(\"___user_data\");\n  \n  if(!currentSession){\n    return true;\n  }\n\n  userPermissions = currentSession.permissions;\n  \n  if (!userPermissions || userPermissions.length < 1 ) return true;\n\n  return !permissions.some((r) => userPermissions.indexOf(r) >= 0);   \n}\n\nmodule.exports = {\n  currentUserDontHaveRoles,\n  currentUserDontHavePermissions\n}"]},"metadata":{},"sourceType":"script"}