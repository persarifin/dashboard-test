{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _encryptedLS = _interopRequireDefault(require(\"libs/encryptedLS\"));\n\nvar currentUserDontHaveRoles = function currentUserDontHaveRoles(roles) {\n  var currentSession = null;\n  currentSession = _encryptedLS[\"default\"].get(\"___user_data\");\n\n  if (!currentSession) {\n    return true;\n  }\n\n  var userRoles = currentSession.roles;\n\n  if (!userRoles || userRoles.length < 1) {\n    return true;\n  } // check if role super enterprise\n\n\n  if (userRoles.some(function (r) {\n    return \"super_enterprise\".indexOf(r.custom_name) >= 0;\n  })) {\n    return false;\n  }\n\n  return userRoles.some(function (r) {\n    return roles.indexOf(r.custom_name) >= 0;\n  });\n};\n\nvar currentUserDontHavePermissions = function currentUserDontHavePermissions(permissions) {\n  var currentSession = null;\n  var userPermissions = [];\n  currentSession = _encryptedLS[\"default\"].get(\"___user_data\");\n\n  if (!currentSession) {\n    return true;\n  }\n\n  userPermissions = currentSession.permissions;\n  if (!userPermissions || userPermissions.length < 1) return true;\n  return !permissions.some(function (r) {\n    return userPermissions.indexOf(r) >= 0;\n  });\n};\n\nmodule.exports = {\n  currentUserDontHaveRoles: currentUserDontHaveRoles,\n  currentUserDontHavePermissions: currentUserDontHavePermissions\n};","map":{"version":3,"sources":["/home/arifin/Documents/pretest/dashboard/src/libs/rolePermission.js"],"names":["currentUserDontHaveRoles","roles","currentSession","encryptedLS","get","userRoles","length","some","r","indexOf","custom_name","currentUserDontHavePermissions","permissions","userPermissions","module","exports"],"mappings":";;;;AAAA;;AAEA,IAAMA,wBAAwB,GAAG,SAA3BA,wBAA2B,CAACC,KAAD,EAAW;AAC1C,MAAIC,cAAc,GAAG,IAArB;AAEAA,EAAAA,cAAc,GAAGC,wBAAYC,GAAZ,CAAgB,cAAhB,CAAjB;;AAEA,MAAG,CAACF,cAAJ,EAAmB;AACjB,WAAO,IAAP;AACD;;AAED,MAAMG,SAAS,GAAGH,cAAc,CAACD,KAAjC;;AAEA,MAAG,CAACI,SAAD,IAAcA,SAAS,CAACC,MAAV,GAAmB,CAApC,EAAsC;AACpC,WAAO,IAAP;AACD,GAbyC,CAe1C;;;AACA,MAAGD,SAAS,CAACE,IAAV,CAAe,UAACC,CAAD;AAAA,WAAO,mBAAmBC,OAAnB,CAA2BD,CAAC,CAACE,WAA7B,KAA6C,CAApD;AAAA,GAAf,CAAH,EAAyE;AACvE,WAAO,KAAP;AACD;;AAED,SAAOL,SAAS,CAACE,IAAV,CAAe,UAACC,CAAD;AAAA,WAAOP,KAAK,CAACQ,OAAN,CAAcD,CAAC,CAACE,WAAhB,KAAgC,CAAvC;AAAA,GAAf,CAAP;AACD,CArBD;;AAuBA,IAAMC,8BAA8B,GAAG,SAAjCA,8BAAiC,CAACC,WAAD,EAAiB;AACtD,MAAIV,cAAc,GAAG,IAArB;AACA,MAAIW,eAAe,GAAG,EAAtB;AACAX,EAAAA,cAAc,GAAGC,wBAAYC,GAAZ,CAAgB,cAAhB,CAAjB;;AAEA,MAAG,CAACF,cAAJ,EAAmB;AACjB,WAAO,IAAP;AACD;;AAEDW,EAAAA,eAAe,GAAGX,cAAc,CAACU,WAAjC;AAEA,MAAI,CAACC,eAAD,IAAoBA,eAAe,CAACP,MAAhB,GAAyB,CAAjD,EAAqD,OAAO,IAAP;AAErD,SAAO,CAACM,WAAW,CAACL,IAAZ,CAAiB,UAACC,CAAD;AAAA,WAAOK,eAAe,CAACJ,OAAhB,CAAwBD,CAAxB,KAA8B,CAArC;AAAA,GAAjB,CAAR;AACD,CAdD;;AAgBAM,MAAM,CAACC,OAAP,GAAiB;AACff,EAAAA,wBAAwB,EAAxBA,wBADe;AAEfW,EAAAA,8BAA8B,EAA9BA;AAFe,CAAjB","sourcesContent":["import encryptedLS from \"libs/encryptedLS\";\n\nconst currentUserDontHaveRoles = (roles) => {\n  let currentSession = null;\n  \n  currentSession = encryptedLS.get(\"___user_data\");\n  \n  if(!currentSession){\n    return true;\n  }\n  \n  const userRoles = currentSession.roles;\n  \n  if(!userRoles || userRoles.length < 1){\n    return true;\n  }\n  \n  // check if role super enterprise\n  if(userRoles.some((r) => \"super_enterprise\".indexOf(r.custom_name) >= 0)){\n    return false;\n  }\n\n  return userRoles.some((r) => roles.indexOf(r.custom_name) >= 0)\n}\n\nconst currentUserDontHavePermissions = (permissions) => {\n  let currentSession = null;\n  let userPermissions = [];\n  currentSession = encryptedLS.get(\"___user_data\");\n  \n  if(!currentSession){\n    return true;\n  }\n\n  userPermissions = currentSession.permissions;\n  \n  if (!userPermissions || userPermissions.length < 1 ) return true;\n\n  return !permissions.some((r) => userPermissions.indexOf(r) >= 0);   \n}\n\nmodule.exports = {\n  currentUserDontHaveRoles,\n  currentUserDontHavePermissions\n}"]},"metadata":{},"sourceType":"script"}