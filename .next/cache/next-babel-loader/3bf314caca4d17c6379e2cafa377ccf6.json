{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/arifin/Documents/pretest/dashboard/src/pages/payments/create/index.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport * as React from 'react';\nimport { Button, Row, Col, Card, Form, InputGroup, FormControl, Modal, Tabs, Tab, Alert, Table } from 'react-bootstrap';\nimport DataTable, { createTheme } from 'react-data-table-component';\nimport Layout from '../../../components/Layout';\nimport { connect } from 'react-redux';\nimport CounterInput from 'react-counter-input';\nimport Router from \"next/router\";\nimport { alertSuccess, alertDanger } from '../../../components/alert';\nimport { getUser } from \"../../../redux/actions/user\";\n\nclass index extends React.Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"getTotals\", data => {\n      let total = 0;\n      data.forEach(item => {\n        total += item.attributes.total;\n      });\n      return parseFloat(total);\n    });\n\n    _defineProperty(this, \"addProduct\", async () => {\n      this.setState({\n        modalProduct: true\n      });\n    });\n\n    _defineProperty(this, \"searchItem\", async () => {\n      this.getData();\n    });\n\n    _defineProperty(this, \"getData\", async () => {\n      // let opts = {\n      //     page: 1,\n      //     limit: 5,\n      // }\n      await this.props.getUser({}).then(() => {\n        this.setState({\n          data: this.props.dataUser\n        });\n      });\n      console.log(this.state.data);\n    });\n\n    _defineProperty(this, \"handlePageChange\", page => {\n      this.getData(page);\n    });\n\n    _defineProperty(this, \"handlePerRowsChange\", async (newPerPage, page) => {\n      this.getData(page, newPerPage);\n    });\n\n    _defineProperty(this, \"saveSubmission\", e => {\n      let items = [];\n      this.state.keranjang.forEach(item => {\n        items.push({\n          item_name: item.attributes.item_name,\n          buying_price: item.attributes.buying_price,\n          selling_price: item.attributes.selling_price,\n          tax: item.attributes.ppn,\n          discount: item.attributes.discount,\n          quantity: item.attributes.qty,\n          schedules: item.attributes.product_schedules ? item.attributes.product_schedules : null\n        });\n      });\n      this.state.orderFor.company_id = this.state.orderFor.type == 'COMPANY' ? this.state.company_id : 0;\n      let payload = {\n        submission_name: this.state.submission_name,\n        date: this.state.date,\n        due_date: this.state.due_date,\n        category_id: this.state.category_id,\n        status: 'oke',\n        reference_doc_number: 'INCOME - ' + this.state.date,\n        customer_email: this.state.customer_name,\n        order_for: this.state.orderFor,\n        items: items\n      };\n      this.props.storeSubmission(payload).then(() => {\n        Router.replace(\"/submissions/income\");\n        alertSuccess('Submission created');\n      });\n    });\n\n    _defineProperty(this, \"submitCheckout\", () => {\n      this.saveSubmission();\n    });\n\n    this.state = {\n      modalProduct: false,\n      columns: [{\n        name: 'ID',\n        selector: (row, index) => index + 1 + (this.state.page - 1) * this.state.num + '.',\n        sortable: true,\n        width: '10%'\n      }, {\n        name: 'Name',\n        selector: 'attributes.item_name',\n        sortable: true\n      }, {\n        name: 'Selling Price (IDR)',\n        selector: 'attributes.selling_price',\n        sortable: true\n      }, {\n        name: 'Actions',\n        selector: (row, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: 'green'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            style: {\n              color: '#FFF',\n              borderRadius: '50%',\n              background: 'green',\n              padding: '2px'\n            },\n            className: \"fa fa-plus\",\n            onClick: () => {\n              if (this.state.keranjang.find(data => data.name == row.name)) {\n                row.percent = 0;\n                row.wage_price = 0;\n                keranjang.push(row);\n                this.setState({\n                  keranjang: keranjang\n                });\n                let data_delete = [...this.state.keranjang];\n                data_delete.splice(index, 1);\n                this.setState({\n                  keranjang: data_delete\n                });\n              }\n\n              alertSuccess('items added!');\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 79\n          }, this), \" Add\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 48\n        }, this),\n        width: '10%'\n      }],\n      data: [],\n      keranjang: [],\n      total: 0,\n      bonus: 0,\n      date: null,\n      due_date: null,\n      submission_name: null,\n      customer_name: null,\n      customer_phone: null,\n      page: 1,\n      num: 5,\n      dataCategory: [],\n      category_id: null,\n      item_name: null,\n      selling_price: null,\n      total_items: 0,\n      dataSearch: null,\n      modalShow: false,\n      modalOrder: false,\n      name: null,\n      wages: [],\n      includeProduct: null,\n      search_item: '',\n      search_item_service: ''\n    };\n  }\n\n  async componentDidMount() {\n    this.getData();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(Layout, {\n      title: \"Create new submissions\",\n      classname: \"dashboard theme-light\",\n      children: [/*#__PURE__*/_jsxDEV(Modal, {\n        show: this.state.modalProduct,\n        onHide: () => this.setState({\n          modalProduct: false\n        }),\n        size: \"lg\",\n        \"aria-labelledby\": \"contained-modal-title-vcenter\",\n        centered: true,\n        children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n          closeButton: true,\n          style: {\n            border: 'none'\n          },\n          children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n            children: \"Add Employee\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n          children: /*#__PURE__*/_jsxDEV(Tabs, {\n            style: {\n              justifyContent: 'left'\n            },\n            defaultActiveKey: \"products\",\n            transition: false,\n            id: \"noanim-tab-example\",\n            children: /*#__PURE__*/_jsxDEV(Tab, {\n              eventKey: \"products\",\n              title: \"Data\",\n              children: [/*#__PURE__*/_jsxDEV(Row, {\n                className: \"mt-5\",\n                children: /*#__PURE__*/_jsxDEV(Col, {\n                  xs: 12,\n                  children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                    as: Row,\n                    controlId: \"formPlaintextPassword\",\n                    children: [/*#__PURE__*/_jsxDEV(Col, {\n                      sm: \"5\",\n                      children: /*#__PURE__*/_jsxDEV(Form.Control, {\n                        type: \"text\",\n                        placeholder: \"Cari Item\",\n                        defaultValue: this.state.search_item,\n                        onChange: e => this.setState({\n                          search_item: e.target.value\n                        })\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 190,\n                        columnNumber: 41\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 189,\n                      columnNumber: 37\n                    }, this), /*#__PURE__*/_jsxDEV(Col, {\n                      sm: \"2\",\n                      children: /*#__PURE__*/_jsxDEV(Button, {\n                        onClick: this.searchItem,\n                        variant: \"success\",\n                        style: {\n                          width: '100%'\n                        },\n                        size: \"sm\",\n                        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                          className: \"fa fa-search\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 193,\n                          columnNumber: 129\n                        }, this), \" Cari Item\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 193,\n                        columnNumber: 41\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 192,\n                      columnNumber: 37\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 188,\n                    columnNumber: 33\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 187,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 186,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(Row, {\n                children: /*#__PURE__*/_jsxDEV(Col, {\n                  xs: 12,\n                  children: /*#__PURE__*/_jsxDEV(DataTable, {\n                    noHeader: true,\n                    data: this.state.data,\n                    columns: this.state.columns,\n                    highlightOnHover: true,\n                    paginationTotalRows: this.state.total_items,\n                    paginationPerPage: this.state.num,\n                    pagination: true,\n                    paginationServer: true,\n                    onChangePage: this.handlePageChange,\n                    onChangeRowsPerPage: this.handlePerRowsChange\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 200,\n                    columnNumber: 37\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 199,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 198,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n          style: {\n            border: 'none'\n          },\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"success\",\n            onClick: () => this.setState({\n              modalProduct: false\n            }),\n            children: \"FINISH\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Card, {\n        style: {\n          backgroundColor: 'white',\n          borderRadius: '10px'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-5\",\n          children: [/*#__PURE__*/_jsxDEV(Form, {\n            className: \"m-5\",\n            children: /*#__PURE__*/_jsxDEV(Row, {\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                xs: 6,\n                children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                  as: Row,\n                  controlId: \"formPlaintextPassword\",\n                  children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                    column: true,\n                    sm: \"3\",\n                    children: \"Transaction Name\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 229,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    sm: \"9\",\n                    children: /*#__PURE__*/_jsxDEV(Form.Control, {\n                      type: \"text\",\n                      placeholder: \"Transaction Name\",\n                      onChange: e => this.setState({\n                        submission_name: e.target.value\n                      })\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 233,\n                      columnNumber: 41\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 232,\n                    columnNumber: 37\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 228,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 227,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                xs: 6,\n                children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                  as: Row,\n                  controlId: \"formPlaintextPassword\",\n                  children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                    column: true,\n                    sm: \"3\",\n                    children: \"Bonus\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 240,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    sm: \"9\",\n                    children: /*#__PURE__*/_jsxDEV(Form.Control, {\n                      type: \"text\",\n                      placeholder: \"Bonus\",\n                      onChange: e => this.setState({\n                        bonus: e.target.value\n                      })\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 244,\n                      columnNumber: 41\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 243,\n                    columnNumber: 37\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 239,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Table, {\n            size: \"lg\",\n            className: \"mb-5 table-size\",\n            responsive: true,\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"pl-5\",\n                  children: \"No\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 254,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Emplpyee Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 255,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Percent (%)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 256,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Price (IDR)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 257,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"pr-5\",\n                  children: \"Actions\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 258,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 253,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: this.state.keranjang.map((r, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"pl-5\",\n                  children: index + 1\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 264,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: r.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 265,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(Form.Control, {\n                    type: \"number\",\n                    defaultValue: parseFloat(r.percent),\n                    onChange: e => {\n                      let items = [...this.state.keranjang];\n\n                      let item = _objectSpread({}, items[index]);\n\n                      let attributes = _objectSpread({}, item);\n\n                      percent = e.target.value;\n                      let total_harga_discount = bonus + percent * bonus / 100;\n                      wage_price = total_harga_discount;\n                      items[index].attributes = attributes;\n                      this.setState({\n                        keranjang: items\n                      });\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 269,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 269,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(Form.Control, {\n                    type: \"number\",\n                    min: \"0\",\n                    max: \"100\",\n                    defaultValue: \"0\",\n                    onChange: e => {\n                      let items = [...this.state.keranjang];\n\n                      let item = _objectSpread({}, items[index]);\n\n                      let attributes = _objectSpread({}, item.attributes);\n\n                      let total_harga = attributes.qty * attributes.selling_price;\n                      let total_harga_discount = total_harga - total_harga * e.target.value / 100;\n                      attributes.discount = e.target.value;\n                      attributes.total = total_harga_discount + total_harga_discount * attributes.ppn / 100;\n                      items[index].attributes = attributes;\n                      this.setState({\n                        keranjang: items\n                      });\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 285,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 284,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: r.attributes.total\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 299,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"pr-5\",\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fa fa-trash\",\n                    style: {\n                      color: 'red'\n                    },\n                    onClick: () => {\n                      let data_delete = [...this.state.keranjang];\n                      data_delete.splice(index, 1);\n                      this.setState({\n                        keranjang: data_delete\n                      });\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 301,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 300,\n                  columnNumber: 37\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 263,\n                columnNumber: 33\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Row, {\n            style: {\n              textAlign: 'right'\n            },\n            className: \"mr-5\",\n            children: /*#__PURE__*/_jsxDEV(Col, {\n              xs: 12,\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"outline-success\",\n                onClick: this.addProduct,\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fa fa-plus\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 317,\n                  columnNumber: 89\n                }, this), \" Add Products\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 317,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 316,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Row, {\n            style: {\n              textAlign: 'right'\n            },\n            className: \"mt-5 mr-5\",\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              xs: 10,\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"TOTAL\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 323,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 322,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              xs: 2,\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: [\"Rp \", this.getTotals(this.state.keranjang)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 327,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 326,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 321,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Row, {\n            style: {\n              textAlign: 'right'\n            },\n            className: \"mt-5 mr-5\",\n            children: /*#__PURE__*/_jsxDEV(Col, {\n              xs: 12,\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                variant: \"secondary\",\n                children: \"Cancel\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 334,\n                columnNumber: 29\n              }, this), \" \", ' ', \" \", /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"success\",\n                onClick: this.checkOut,\n                children: \" Submit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 334,\n                columnNumber: 79\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 333,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 332,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 9\n    }, this);\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  // const { include, total } = state.item;\n  return {\n    // dataCategory: state.submission.dataCategory,\n    // dataUser: state.user.data,\n    auth: state.auth.user\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    getUser: opts => dispatch(getUser(opts))\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(index);","map":{"version":3,"sources":["/home/arifin/Documents/pretest/dashboard/src/pages/payments/create/index.js"],"names":["React","Button","Row","Col","Card","Form","InputGroup","FormControl","Modal","Tabs","Tab","Alert","Table","DataTable","createTheme","Layout","connect","CounterInput","Router","alertSuccess","alertDanger","getUser","index","Component","constructor","props","data","total","forEach","item","attributes","parseFloat","setState","modalProduct","getData","then","dataUser","console","log","state","page","newPerPage","e","items","keranjang","push","item_name","buying_price","selling_price","tax","ppn","discount","quantity","qty","schedules","product_schedules","orderFor","company_id","type","payload","submission_name","date","due_date","category_id","status","reference_doc_number","customer_email","customer_name","order_for","storeSubmission","replace","saveSubmission","columns","name","selector","row","num","sortable","width","color","borderRadius","background","padding","find","percent","wage_price","data_delete","splice","bonus","customer_phone","dataCategory","total_items","dataSearch","modalShow","modalOrder","wages","includeProduct","search_item","search_item_service","componentDidMount","render","border","justifyContent","target","value","searchItem","handlePageChange","handlePerRowsChange","backgroundColor","map","r","total_harga_discount","total_harga","textAlign","addProduct","getTotals","checkOut","mapStateToProps","auth","user","mapDispatchToProps","dispatch","opts"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport {Button, Row, Col, Card, Form, InputGroup, FormControl, Modal, Tabs, Tab, Alert, Table} from 'react-bootstrap';\nimport DataTable, { createTheme } from 'react-data-table-component';\nimport Layout from '../../../components/Layout';\nimport {connect} from 'react-redux'\nimport CounterInput from 'react-counter-input'\nimport Router from \"next/router\";\nimport {alertSuccess, alertDanger} from '../../../components/alert'\nimport { getUser } from \"../../../redux/actions/user\";\n\n\nclass index extends React.Component {\n    \n    constructor(props){\n        super(props)\n        this.state = {\n            modalProduct: false,\n            columns: [\n                {\n                    name: 'ID',\n                    selector: (row, index) =>  ((index+1) + (this.state.page - 1) * this.state.num) + '.',\n                    sortable: true,\n                    width: '10%'\n                },\n                {\n                    name: 'Name',\n                    selector: 'attributes.item_name',\n                    sortable: true,\n                },\n                {\n                    name: 'Selling Price (IDR)',\n                    selector: 'attributes.selling_price',\n                    sortable: true,\n                },\n                {\n                    name: 'Actions',\n                    selector: (row, index) => (<div style={{ color:'green' }}><i style={{ color:'#FFF', borderRadius:'50%', background:'green', padding:'2px' }} className=\"fa fa-plus\" onClick={ () => {\n                        \n                        if(this.state.keranjang.find((data) => data.name == row.name)){\n                            row.percent = 0\n                            row.wage_price = 0\n                            keranjang.push(row)\n                            this.setState({\n                                keranjang: keranjang\n                            })\n                            let data_delete = [...this.state.keranjang]\n                            data_delete.splice(index, 1)\n                            this.setState({\n                                keranjang: data_delete\n                            })\n                        }\n\n                        alertSuccess('items added!')\n                        \n                    }}></i> Add</div>),\n                    width: '10%'\n                }\n            ],\n            data: [],\n            keranjang: [],\n            total: 0,\n            bonus:0,\n            date: null,\n            due_date: null,\n            submission_name: null,\n            customer_name: null,\n            customer_phone: null,\n            page: 1,\n            num: 5,\n            dataCategory: [],\n            category_id: null,\n            item_name: null,\n            selling_price: null,\n            total_items: 0,\n            dataSearch: null,\n            modalShow: false,\n            modalOrder: false,\n            name: null, \n            wages:[],\n            includeProduct: null,\n            search_item: '',\n            search_item_service: ''\n        }\n    }\n\n    getTotals = (data) => {\n        let total = 0;\n        data.forEach(item => {\n          total += item.attributes.total;\n        });\n        return parseFloat(total);\n    };\n\n    addProduct = async () => {\n        this.setState({ modalProduct:true })\n    }\n    searchItem = async () => {\n        this.getData()\n    }\n\n    getData = async() =>{\n        // let opts = {\n        //     page: 1,\n        //     limit: 5,\n        // }\n\n        await this.props.getUser({}).then(() => {\n            this.setState({\n                data: this.props.dataUser,\n            })\n        })\n        console.log(this.state.data)\n    }\n    handlePageChange = page => {\n        this.getData(page)\n    }\n\n    handlePerRowsChange = async (newPerPage, page) => {\n        this.getData(page, newPerPage);\n    };\n\n    async componentDidMount() {\n        this.getData()\n    }\n\n\n    saveSubmission = (e) => {\n        let items = []\n        this.state.keranjang.forEach(item => {\n            items.push({\n                item_name: item.attributes.item_name,\n                buying_price: item.attributes.buying_price,\n                selling_price: item.attributes.selling_price,\n                tax: item.attributes.ppn,\n                discount: item.attributes.discount,\n                quantity: item.attributes.qty,\n                schedules: item.attributes.product_schedules ? item.attributes.product_schedules: null \n            })\n        });\n        \n        this.state.orderFor.company_id = this.state.orderFor.type == 'COMPANY' ? this.state.company_id : 0\n        let payload = {\n            submission_name: this.state.submission_name,\n            date: this.state.date,\n            due_date: this.state.due_date,\n            category_id: this.state.category_id,\n            status: 'oke',\n            reference_doc_number: 'INCOME - ' + this.state.date,\n            customer_email: this.state.customer_name,\n            order_for: this.state.orderFor,\n            items: items\n        }\n        \n        this.props.storeSubmission(payload).then(() => {\n            Router.replace(\"/submissions/income\");\n            alertSuccess('Submission created')\n        })\n    }\n\n    submitCheckout = () => {\n        this.saveSubmission()\n    }\n  \n    render () {\n  \n      return (\n        \n        <Layout title=\"Create new submissions\" classname=\"dashboard theme-light\">\n\n            <Modal \n                show={this.state.modalProduct} \n                onHide={() => this.setState({ modalProduct: false })}\n                size=\"lg\"\n                aria-labelledby=\"contained-modal-title-vcenter\"\n                centered\n            >\n                <Modal.Header closeButton style={{ border:'none'}}>\n                    <Modal.Title>Add Employee</Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n                    <Tabs\n                        style={{justifyContent: 'left'}}\n                        defaultActiveKey=\"products\" transition={false} id=\"noanim-tab-example\"\n                    >\n                        <Tab eventKey=\"products\" title=\"Data\">\n                            <Row className=\"mt-5\">\n                                <Col xs={12}>\n                                <Form.Group as={Row} controlId=\"formPlaintextPassword\">\n                                    <Col sm=\"5\">\n                                        <Form.Control type=\"text\" placeholder=\"Cari Item\" defaultValue={this.state.search_item} onChange={(e) => this.setState({search_item: e.target.value})} />\n                                    </Col>\n                                    <Col sm=\"2\">\n                                        <Button onClick={this.searchItem} variant=\"success\" style={{ width: '100%' }} size=\"sm\"><i className=\"fa fa-search\"></i> Cari Item</Button>\n                                    </Col>\n                                </Form.Group>\n                                </Col>\n                            </Row>\n                            <Row>\n                                <Col xs={12}>\n                                    <DataTable\n                                        noHeader\n                                        data={this.state.data}\n                                        columns={this.state.columns}\n                                        highlightOnHover\n                                        paginationTotalRows={this.state.total_items}\n                                        paginationPerPage={this.state.num}\n                                        pagination\n                                        paginationServer\n                                        onChangePage={this.handlePageChange}\n                                        onChangeRowsPerPage={this.handlePerRowsChange}\n                                    />\n                                </Col>\n                            </Row>\n                        </Tab>\n                    </Tabs>\n                </Modal.Body>\n                <Modal.Footer style={{ border:'none'}}>\n                <Button variant=\"success\" onClick={() => this.setState({ modalProduct: false })}>\n                    FINISH\n                </Button>\n                </Modal.Footer>\n            </Modal>\n            <Card style={{ backgroundColor: 'white', borderRadius:'10px' }} >\n                <div className=\"mb-5\">\n                    <Form className=\"m-5\">\n                        <Row>\n                            <Col xs={6}>\n                                <Form.Group as={Row} controlId=\"formPlaintextPassword\">\n                                    <Form.Label column sm=\"3\">\n                                        Transaction Name\n                                    </Form.Label>\n                                    <Col sm=\"9\">\n                                        <Form.Control type=\"text\" placeholder=\"Transaction Name\" onChange={(e) => this.setState({ submission_name: e.target.value })} />\n                                    </Col>\n                                </Form.Group>\n\n                            </Col>\n                            <Col xs={6}>\n                                <Form.Group as={Row} controlId=\"formPlaintextPassword\">\n                                    <Form.Label column sm=\"3\">\n                                    Bonus\n                                    </Form.Label>\n                                    <Col sm=\"9\">\n                                        <Form.Control type=\"text\" placeholder=\"Bonus\" onChange={(e) => this.setState({ bonus: e.target.value })} />\n                                    </Col>\n                                    \n                                </Form.Group>\n                            </Col>\n                        </Row>\n                    </Form>\n                    <Table size=\"lg\" className=\"mb-5 table-size\" responsive>\n                        <thead>\n                            <tr>\n                                <th className=\"pl-5\">No</th>\n                                <th>Emplpyee Name</th>\n                                <th>Percent (%)</th>\n                                <th>Price (IDR)</th>\n                                <th className=\"pr-5\">Actions</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            {this.state.keranjang.map((r, index) => (\n                                <tr key={index}>\n                                    <td className=\"pl-5\">{index+1}</td>\n                                    <td>\n                                        {r.name}\n                                    </td>\n\n                                    <td><Form.Control type=\"number\" defaultValue={parseFloat(r.percent)} \n                                    onChange={(e) => {\n                                        let items = [...this.state.keranjang];\n                                        let item = {...items[index]};\n                                        let attributes = {...item}\n                                        percent = e.target.value\n                                        let total_harga_discount = bonus + ((percent * bonus)/100)\n                                        wage_price = total_harga_discount \n                                        items[index].attributes = attributes;\n                                        this.setState({\n                                            keranjang: items,\n                                        })\n                                    }} \n                                    />\n                                    </td>\n                                    <td>\n                                        <Form.Control type=\"number\" min=\"0\" max=\"100\" defaultValue=\"0\" onChange={(e) => {\n                                            let items = [...this.state.keranjang];\n                                            let item = {...items[index]};\n                                            let attributes = {...item.attributes}\n                                            let total_harga = attributes.qty * attributes.selling_price\n                                            let total_harga_discount = total_harga - ((total_harga * e.target.value)/100)\n                                            attributes.discount = e.target.value\n                                            attributes.total = total_harga_discount + ((total_harga_discount * attributes.ppn)/100)\n                                            items[index].attributes = attributes;\n                                            this.setState({\n                                                keranjang: items,\n                                            })\n                                        }} />\n                                    </td>\n                                    <td>{ r.attributes.total }</td>\n                                    <td className=\"pr-5\">\n                                        <i className=\"fa fa-trash\" style={{ color:'red' }}\n                                            onClick={() => {\n                                                let data_delete = [...this.state.keranjang]\n                                                data_delete.splice(index, 1)\n                                                this.setState({\n                                                    keranjang: data_delete\n                                                })\n                                            }}\n                                        ></i>\n                                    </td>\n                                </tr>\n                            ))}\n                        </tbody>\n                    </Table>\n                    <Row style={{ textAlign:'right' }} className=\"mr-5\">\n                        <Col xs={12}>\n                            <Button variant=\"outline-success\" onClick={this.addProduct}><i className=\"fa fa-plus\"></i> Add Products</Button>\n                        </Col>\n                    </Row>\n\n                    <Row style={{ textAlign:'right' }} className=\"mt-5 mr-5\">\n                        <Col xs={10}>\n                            <strong>TOTAL</strong> \n                        </Col>\n\n                        <Col xs={2}>\n                            <strong>Rp {this.getTotals(this.state.keranjang)}</strong>\n                        </Col>\n                    </Row>\n\n\n                    <Row style={{ textAlign:'right' }} className=\"mt-5 mr-5\">\n                        <Col xs={12}>\n                            <Button variant=\"secondary\">Cancel</Button> {' '} <Button variant=\"success\" onClick={this.checkOut}> Submit</Button>\n                        </Col>\n                    </Row>\n                    \n                    \n                </div>\n                \n            </Card>\n        </Layout>\n      );\n    }\n  }\n  function mapStateToProps ( state ) {\n    // const { include, total } = state.item;\n    return {\n        // dataCategory: state.submission.dataCategory,\n        // dataUser: state.user.data,\n        auth: state.auth.user,\n    };\n}\n\nfunction mapDispatchToProps (dispatch) {\n    return {\n        getUser: (opts) => dispatch(getUser(opts)),\n    }\n}\n\n\nexport default connect(mapStateToProps,mapDispatchToProps)(index);\n  "]},"metadata":{},"sourceType":"module"}