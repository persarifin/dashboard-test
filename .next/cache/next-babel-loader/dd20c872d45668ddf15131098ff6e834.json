{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/arifin/Documents/semanggi/semanggi-bo/src/pages/customer/master-data.js\";\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport * as React from \"react\";\nimport { Card, Col, Row, Modal, Button } from \"react-bootstrap\";\nimport Layout, { addNotification } from \"../../components/Layout\";\nimport DataTable2 from \"../../components/DataTable2\";\nimport { Tab, Tabs, TabList, TabPanel } from \"react-tabs\";\nimport { getAllUsers, assignCompanyToReseller } from \"../../redux/actions/user\";\nimport { connect } from \"react-redux\";\n\nclass MasterData extends React.Component {\n  constructor(_props) {\n    super(_props);\n\n    _defineProperty(this, \"TABS\", [{\n      label: \"Company\"\n    }, {\n      label: \"Personal\"\n    }]);\n\n    _defineProperty(this, \"companyColumns\", [{\n      Header: \"Company Name\",\n      accessor: \"attributes.business_name\"\n    }, {\n      Header: \"Email\",\n      accessor: \"attributes.email\"\n    }, {\n      Header: \"Action\",\n      accessor: \"\",\n      Cell: props => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"mr-2\",\n          style: {\n            width: \"15px\",\n            cursor: \"pointer\"\n          },\n          src: \"https://storage.googleapis.com/spaces-semanggi-app/back-office/super-entity/png/border-color-24px.png\",\n          onClick: () => this.setState({\n            modal: true,\n            userId: props.cell.row.original.attributes.id\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this)\n    }]);\n\n    _defineProperty(this, \"columns\", [{\n      Header: \"Full Name\",\n      accessor: \"attributes.full_name\"\n    }, {\n      Header: \"User Name\",\n      accessor: \"attributes.username\"\n    }, {\n      Header: \"Email\",\n      accessor: \"attributes.email\"\n    }, {\n      Header: \"Action\",\n      accessor: \"\",\n      Cell: props => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"mr-2\",\n          style: {\n            width: \"15px\",\n            cursor: \"pointer\"\n          },\n          src: \"https://storage.googleapis.com/spaces-semanggi-app/back-office/super-entity/png/border-color-24px.png\" // onClick={() =>\n          //   this.openEditBillingInvoiceModal(props.cell.row.original)\n          // }\n\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)\n    }]);\n\n    _defineProperty(this, \"handleSelectTab\", index => {\n      const label = this.TABS[index].label;\n      this.setState({\n        tab: label\n      });\n    });\n\n    _defineProperty(this, \"handleAssignCompanyToReseller\", async () => {\n      let response = await this.props.assignCompanyToReseller(this.state.userId, {}, {}); // if(response){\n\n      await this.props.getAllUsers(this.state.getUserOpts);\n      this.setState({\n        userId: null,\n        modal: false\n      });\n      addNotification({\n        level: \"success\",\n        message: \"Success assigned company to reseller!\"\n      }); // }\n    });\n\n    this.state = {\n      getUserOpts: {\n        params: {\n          \"page[limit]\": 100,\n          \"filter[roles.custom_name][not_in]\": \"super_enterprise,super_admin,enterprise\"\n        }\n      },\n      tab: \"Company\",\n      modal: false,\n      userId: null\n    };\n  }\n\n  async componentDidMount() {\n    await this.props.getAllUsers(this.state.getUserOpts);\n  }\n\n  render() {\n    let tabIndex = 0;\n\n    if (this.state.tab) {\n      const selectedTab = this.TABS.findIndex(tab => tab.label === this.state.tab);\n\n      if (selectedTab >= 0) {\n        tabIndex = selectedTab;\n      }\n    }\n\n    return /*#__PURE__*/_jsxDEV(Layout, {\n      title: \"Master Data\",\n      classname: \"dashboard theme-light\",\n      children: [/*#__PURE__*/_jsxDEV(Modal, {\n        show: this.state.modal,\n        onHide: () => this.setState({\n          modal: false\n        }),\n        dialogClassName: \"modal-90w\",\n        \"aria-labelledby\": \"example-custom-modal-styling-title\",\n        centered: true,\n        backdrop: \"static\",\n        class: \"modal-backdrop foo-modal-backdrop in\",\n        keyboard: false,\n        children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n          closeButton: true,\n          children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n            children: \"Assign Company As Reseller\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-center\",\n            children: \"Are you sure you want to make this company as a reseller?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"secondary\",\n            onClick: () => this.setState({\n              modal: false\n            }),\n            children: \"Close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            onClick: this.handleAssignCompanyToReseller,\n            children: \"Save\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          lg: 12,\n          md: 12,\n          sm: 12,\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            style: {\n              backgroundColor: \"white\",\n              borderRadius: \"10px\"\n            },\n            children: /*#__PURE__*/_jsxDEV(Row, {\n              className: \"position-relative show-grid\",\n              style: {\n                margin: \"20px 20px 0px 20px\"\n              },\n              children: /*#__PURE__*/_jsxDEV(Col, {\n                xs: 12,\n                children: /*#__PURE__*/_jsxDEV(Row, {\n                  className: \"position-relative show-grid\",\n                  style: {\n                    margin: \"40px 20px 0px 20px\"\n                  },\n                  children: /*#__PURE__*/_jsxDEV(Col, {\n                    xs: 12,\n                    children: /*#__PURE__*/_jsxDEV(Tabs, {\n                      onSelect: this.handleSelectTab,\n                      selectedIndex: tabIndex,\n                      children: [/*#__PURE__*/_jsxDEV(TabList, {\n                        children: this.TABS.map(tab => /*#__PURE__*/_jsxDEV(Tab, {\n                          children: tab.label\n                        }, tab.label, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 188,\n                          columnNumber: 29\n                        }, this))\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 186,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(TabPanel, {\n                        className: \"mt-5\",\n                        children: /*#__PURE__*/_jsxDEV(DataTable2, {\n                          data: this.props.companyData,\n                          columns: this.companyColumns,\n                          hideHeader: true\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 193,\n                          columnNumber: 27\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 192,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(TabPanel, {\n                        children: /*#__PURE__*/_jsxDEV(DataTable2, {\n                          data: this.props.userData,\n                          columns: this.columns,\n                          hideHeader: true\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 200,\n                          columnNumber: 27\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 199,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 182,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 181,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 177,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = state => {\n  const companyData = state.company.companies;\n  const companyIncludeData = state.company.include;\n  const companyTotalData = state.company.total;\n  const userData = state.user.data;\n  const userIncludeData = state.user.include;\n  const userTotalData = state.user.total;\n  return {\n    companyData,\n    companyIncludeData,\n    companyTotalData,\n    userData,\n    userIncludeData,\n    userTotalData\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    getAllUsers: opts => dispatch(getUsers(opts)),\n    assignCompanyToReseller: (id, payload, opts) => dispatch(assignCompanyToReseller(id, payload, opts))\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MasterData);","map":{"version":3,"sources":["/home/arifin/Documents/semanggi/semanggi-bo/src/pages/customer/master-data.js"],"names":["React","Card","Col","Row","Modal","Button","Layout","addNotification","DataTable2","Tab","Tabs","TabList","TabPanel","getAllUsers","assignCompanyToReseller","connect","MasterData","Component","constructor","props","label","Header","accessor","Cell","width","cursor","setState","modal","userId","cell","row","original","attributes","id","index","TABS","tab","response","state","getUserOpts","level","message","params","componentDidMount","render","tabIndex","selectedTab","findIndex","handleAssignCompanyToReseller","backgroundColor","borderRadius","margin","handleSelectTab","map","companyData","companyColumns","userData","columns","mapStateToProps","company","companies","companyIncludeData","include","companyTotalData","total","user","data","userIncludeData","userTotalData","mapDispatchToProps","dispatch","opts","getUsers","payload"],"mappings":"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","sourcesContent":["import * as React from \"react\";\nimport { Card, Col, Row, Modal, Button } from \"react-bootstrap\";\nimport Layout, {\n  addNotification,\n} from \"../../components/Layout\";\nimport DataTable2 from \"../../components/DataTable2\";\nimport { Tab, Tabs, TabList, TabPanel } from \"react-tabs\";\nimport { getAllUsers, assignCompanyToReseller } from \"../../redux/actions/user\";\nimport { connect } from \"react-redux\";\n\nclass MasterData extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      getUserOpts: {\n        params: {\n          \"page[limit]\": 100,\n          \"filter[roles.custom_name][not_in]\":\n            \"super_enterprise,super_admin,enterprise\",\n        },\n      },\n      tab: \"Company\",\n      modal: false,\n      userId: null\n    };\n  }\n\n  TABS = [\n    {\n      label: \"Company\",\n    },\n    {\n      label: \"Personal\",\n    },\n  ];\n\n  companyColumns = [\n    {\n      Header: \"Company Name\",\n      accessor: \"attributes.business_name\",\n    },\n    {\n      Header: \"Email\",\n      accessor: \"attributes.email\",\n    },\n\n    {\n      Header: \"Action\",\n      accessor: \"\",\n      Cell: (props) => (\n        <div>\n          <img\n            className=\"mr-2\"\n            style={{ width: \"15px\", cursor: \"pointer\" }}\n            src=\"https://storage.googleapis.com/spaces-semanggi-app/back-office/super-entity/png/border-color-24px.png\"\n            onClick={() => \n              this.setState({modal: true, userId: props.cell.row.original.attributes.id})\n            }\n          />\n        </div>\n      ),\n    },\n  ];\n\n  columns = [\n    {\n      Header: \"Full Name\",\n      accessor: \"attributes.full_name\",\n    },\n    {\n      Header: \"User Name\",\n      accessor: \"attributes.username\",\n    },\n    {\n      Header: \"Email\",\n      accessor: \"attributes.email\",\n    },\n\n    {\n      Header: \"Action\",\n      accessor: \"\",\n      Cell: (props) => (\n        <div>\n          <img\n            className=\"mr-2\"\n            style={{ width: \"15px\", cursor: \"pointer\" }}\n            src=\"https://storage.googleapis.com/spaces-semanggi-app/back-office/super-entity/png/border-color-24px.png\"\n            // onClick={() =>\n            //   this.openEditBillingInvoiceModal(props.cell.row.original)\n            // }\n          />\n        </div>\n      ),\n    },\n  ];\n\n  async componentDidMount() {\n    await this.props.getAllUsers(this.state.getUserOpts);\n  }\n\n  handleSelectTab = (index) => {\n    const label = this.TABS[index].label;\n    this.setState({\n      tab: label,\n    });\n  };\n\n  handleAssignCompanyToReseller = async () => {\n    let response = await this.props.assignCompanyToReseller(\n      this.state.userId,\n      {},\n      {}\n    );\n\n    // if(response){\n      await this.props.getAllUsers(this.state.getUserOpts);\n      this.setState({\n        userId: null,\n        modal: false\n      })\n  \n      addNotification({\n        level: \"success\",\n        message: \"Success assigned company to reseller!\",\n      });\n    // }\n\n  }\n\n  render() {\n    let tabIndex = 0;\n    if (this.state.tab) {\n      const selectedTab = this.TABS.findIndex(\n        (tab) => tab.label === this.state.tab\n      );\n      if (selectedTab >= 0) {\n        tabIndex = selectedTab;\n      }\n    }\n    return (\n      <Layout title=\"Master Data\" classname=\"dashboard theme-light\">\n        <Modal\n            show={this.state.modal}\n            onHide={() => this.setState({\n                modal: false\n            })}\n            dialogClassName=\"modal-90w\"\n            aria-labelledby=\"example-custom-modal-styling-title\"\n            centered\n            backdrop=\"static\"\n            class=\"modal-backdrop foo-modal-backdrop in\"\n            keyboard={false}\n        >\n            <Modal.Header closeButton>\n            <Modal.Title>Assign Company As Reseller</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n              <span className=\"text-center\">Are you sure you want to make this company as a reseller?</span>\n            </Modal.Body>\n            <Modal.Footer>\n            <Button variant=\"secondary\" onClick={() => this.setState({\n                modal: false\n            })}>\n                Close\n            </Button>\n            <Button variant=\"primary\" onClick={this.handleAssignCompanyToReseller}>Save</Button>\n            </Modal.Footer>\n        </Modal>\n        <Row>\n          <Col lg={12} md={12} sm={12}>\n            <Card style={{ backgroundColor: \"white\", borderRadius: \"10px\" }}>\n              <Row\n                className=\"position-relative show-grid\"\n                style={{ margin: \"20px 20px 0px 20px\" }}\n              >\n                <Col xs={12}>\n                  <Row\n                    className=\"position-relative show-grid\"\n                    style={{ margin: \"40px 20px 0px 20px\" }}\n                  >\n                    <Col xs={12}>\n                      <Tabs\n                        onSelect={this.handleSelectTab}\n                        selectedIndex={tabIndex}\n                      >\n                        <TabList>\n                          {this.TABS.map((tab) => (\n                            <Tab key={tab.label}>{tab.label}</Tab>\n                          ))}\n                        </TabList>\n\n                        <TabPanel className=\"mt-5\">\n                          <DataTable2\n                            data={this.props.companyData}\n                            columns={this.companyColumns}\n                            hideHeader={true}\n                          />\n                        </TabPanel>\n                        <TabPanel>\n                          <DataTable2\n                            data={this.props.userData}\n                            columns={this.columns}\n                            hideHeader={true}\n                          />\n                        </TabPanel>\n                      </Tabs>\n                    </Col>\n                  </Row>\n                </Col>\n              </Row>\n            </Card>\n          </Col>\n        </Row>\n      </Layout>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  const companyData = state.company.companies;\n  const companyIncludeData = state.company.include;\n  const companyTotalData = state.company.total;\n\n  const userData = state.user.data;\n  const userIncludeData = state.user.include;\n  const userTotalData = state.user.total;  \n\n  return {\n    companyData,\n    companyIncludeData,\n    companyTotalData,\n    \n    userData,\n    userIncludeData,\n    userTotalData\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    getAllUsers: (opts) => dispatch(getUsers(opts)),\n    assignCompanyToReseller: (id, payload, opts) =>\n      dispatch(assignCompanyToReseller(id, payload, opts)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MasterData);\n"]},"metadata":{},"sourceType":"module"}