{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/arifin/Documents/pretest/dashboard/src/pages/settings-role/index.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport * as React from \"react\";\nimport { Card, Col, Row, Form, Button, Modal } from \"react-bootstrap\";\nimport Layout, { showLoadingSpinner, hideLoadingSpinner } from \"../../components/Layout\";\nimport DataTable2 from \"../../components/DataTable2\";\nimport { connect, dispatch } from \"react-redux\";\nimport { getRole, storeRole, updateRole, destroyRole } from \"redux/actions/role\";\nimport { getPermissions } from \"redux/actions/permission\";\nimport Confirm from \"../../components/Confirm\";\nimport { toast } from \"react-toastify\";\nimport dayjs from \"dayjs\";\nimport Select from \"react-select\";\nimport { currentUserDontHaveRoles } from \"libs/rolePermission\";\nlet selectAllRef = /*#__PURE__*/React.createRef();\nconst listTables = [{\n  value: \"billing_counters\",\n  label: \"Billing Counters\"\n}, {\n  value: \"billing_invoices\",\n  label: \"Billing Invoices\"\n}, {\n  value: \"compan\",\n  label: \"Companies\"\n}, {\n  value: \"company_wallet\",\n  label: \"Company Wallets\"\n}, {\n  value: \"content_visibilit\",\n  label: \"Content Visibilities\"\n}, {\n  value: \"content categor\",\n  label: \"Content Categories\"\n}, {\n  value: \"content\",\n  label: \"Contents\"\n}, {\n  value: \"interface\",\n  label: \"Interfaces\"\n}, {\n  value: \"notification_activations\",\n  label: \"Notification Activations\"\n}, {\n  value: \"notification_topics\",\n  label: \"Notification Topics\"\n}, {\n  value: \"payment_reconciliation\",\n  label: \"Payment Reconciliations\"\n}, {\n  value: \"payment_transaction\",\n  label: \"Payment Transactions\"\n}, {\n  value: \"product categor\",\n  label: \"Product Categories\"\n}, {\n  value: \"product\",\n  label: \"Products\"\n}, {\n  value: \"role\",\n  label: \"Roles\"\n}, {\n  value: \"schedule\",\n  label: \"Schedules\"\n}, {\n  value: \"submission categor\",\n  label: \"Submission Categories\"\n}, {\n  value: \"submission\",\n  label: \"Submissions\"\n}, {\n  value: \"user_wallet\",\n  label: \"User Wallets\"\n}, {\n  value: \"user\",\n  label: \"Users\"\n}];\n\nconst FormEditRoles = ({\n  formData,\n  selectedCategoryPermission,\n  selectedPermissions,\n  permissions,\n  selectAllRef,\n  countSelectedPermissions,\n  handleInput,\n  handleChangeCategoryPermission,\n  handleSelectPermission,\n  handleSelectAllPermissions\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  children: [/*#__PURE__*/_jsxDEV(Row, {\n    children: [/*#__PURE__*/_jsxDEV(Col, {\n      xs: \"4\",\n      className: \"pt-1\",\n      children: /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Role Name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Col, {\n      xs: \"5\",\n      children: /*#__PURE__*/_jsxDEV(Form.Control, {\n        type: \"text\",\n        onChange: handleInput,\n        value: formData.name,\n        size: \"lg\",\n        placeholder: \"Role Name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 120,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(Row, {\n    className: \"pt-3\",\n    children: [/*#__PURE__*/_jsxDEV(Col, {\n      xs: \"4\",\n      className: \"pt-1\",\n      children: /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Permission\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Col, {\n      xs: \"5\",\n      children: /*#__PURE__*/_jsxDEV(Select, {\n        styles: {\n          menuList: provided => {\n            return _objectSpread(_objectSpread({}, provided), {}, {\n              backgroundColor: \"#fff\"\n            });\n          },\n          control: (base, state) => _objectSpread(_objectSpread({}, base), {}, {\n            \"&:hover\": {\n              borderColor: \"#0daa66\"\n            },\n            border: state.isFocused ? \"1px solid #0daa66\" : \"1px solid #ccc\",\n            boxShadow: \"none\"\n          })\n        },\n        options: listTables,\n        placeholder: \"Select Category\",\n        onChange: handleChangeCategoryPermission\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 134,\n    columnNumber: 5\n  }, this), selectedCategoryPermission ? /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Row, {\n      className: \"pt-3\",\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        xs: \"12\",\n        style: {\n          borderRadius: \"10px\",\n          background: \"#ededed\"\n        },\n        className: \"p-3\",\n        children: [/*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            xs: \"8\",\n            children: /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: selectedCategoryPermission\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 15\n          }, this), permissions.length > 0 ? /*#__PURE__*/_jsxDEV(Col, {\n            xs: \"4\",\n            style: {\n              textAlign: \"right\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"custom-checkbox\",\n              style: {\n                fontSize: \"12px\",\n                backgroundColor: \"#ededed\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                children: \"Select All\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 181,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                onChange: handleSelectAllPermissions(permissions),\n                ref: selectAllRef,\n                checked: countSelectedPermissions[selectedCategoryPermission] === permissions.length ? true : false\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"checkmark\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 193,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 17\n          }, this) : null]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            xs: \"12\",\n            children: /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          children: permissions.length > 0 ? permissions.map(permission => /*#__PURE__*/_jsxDEV(Col, {\n            xs: 3,\n            children: /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"custom-checkbox\",\n              style: {\n                fontSize: \"12px\",\n                backgroundColor: \"#ededed\"\n              },\n              children: [permission.name, /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                onChange: handleSelectPermission,\n                value: permission.id,\n                checked: selectedPermissions[permission.id] ? selectedPermissions[permission.id] : false\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 215,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"checkmark\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 225,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 21\n            }, this)\n          }, permission.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 19\n          }, this)) : /*#__PURE__*/_jsxDEV(Col, {\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Permission \", /*#__PURE__*/_jsxDEV(\"b\", {\n                children: selectedCategoryPermission\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 232,\n                columnNumber: 32\n              }, this), \" Not Found\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 9\n    }, this)\n  }, void 0, false) : null, /*#__PURE__*/_jsxDEV(\"p\", {\n    className: \"mt-2\",\n    style: {\n      fontStyle: \"italic\"\n    },\n    children: [\"Total \", Object.keys(selectedPermissions).length, \" permissions selected\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 241,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 119,\n  columnNumber: 3\n}, this);\n\nclass Index extends React.Component {\n  constructor(_props) {\n    super(_props);\n\n    _defineProperty(this, \"columns\", [{\n      Header: \"Role Name\",\n      accessor: \"custom_name\"\n    }, {\n      Header: \"Total Permissions\",\n      accessor: \"\",\n      Cell: props => /*#__PURE__*/_jsxDEV(\"span\", {\n        children: props.cell.row.original.relationships.permissions ? props.cell.row.original.relationships.permissions.length : \"0\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 9\n      }, this)\n    }, {\n      Header: \"Last Updated\",\n      accessor: \"updated_at\",\n      Cell: props => /*#__PURE__*/_jsxDEV(\"span\", {\n        children: dayjs(props.value).format(\"YYYY-MM-DD HH:mm:ss\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 9\n      }, this)\n    }, {\n      Header: \"Action\",\n      accessor: \"\",\n      Cell: props => {\n        return !currentUserDontHaveRoles([\"enterprise\"]) ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"mr-2\",\n            style: {\n              width: \"15px\",\n              cursor: \"pointer\"\n            },\n            src: \"https://storage.googleapis.com/spaces-semanggi-app/back-office/super-entity/png/border-color-24px.png\",\n            onClick: () => this.editData(props.cell.row.original, props.cell.row.id)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            style: {\n              width: \"15px\",\n              cursor: \"pointer\"\n            },\n            src: \"https://storage.googleapis.com/spaces-semanggi-app/back-office/super-entity/png/delete.png\",\n            onClick: () => this.setState({\n              modalDelete: true,\n              dataDelete: props.cell.row.original,\n              tabIndex: props.cell.row.id\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 11\n        }, this) : null;\n      }\n    }]);\n\n    _defineProperty(this, \"handleInput\", e => {\n      this.setState({\n        formData: _objectSpread(_objectSpread({}, this.state.formData), {}, {\n          name: e.target.value\n        })\n      });\n    });\n\n    _defineProperty(this, \"handleChangeCategoryPermission\", async e => {\n      showLoadingSpinner();\n      let param = {\n        \"page[limit]\": 500,\n        \"filter[name][like]\": e.value\n      };\n\n      if (e.label === 'Submissions' || e.label === 'Products' || e.label === 'Contents') {\n        param = {\n          \"page[limit]\": 500,\n          \"filter[name][like]\": e.value,\n          \"filter[name][not_like]\": \"categories\"\n        };\n      } else if (e.label === 'Companies') {\n        param = {\n          \"page[limit]\": 500,\n          \"filter[name][like]\": e.value,\n          \"filter[name][not_like]\": \"wallet\" // \"filter[name][not_like]\": \"interface\",\n          // \"filter[name][not_like]\": \"user\"\n\n        };\n      } else if (e.label === 'Users') {\n        param = {\n          \"page[limit]\": 500,\n          \"filter[name][like]\": e.value,\n          \"filter[name][not_like]\": \"wallet\"\n        };\n      }\n\n      await this.props.getPermissions({\n        params: param\n      });\n      const {\n        countSelectedPermissions\n      } = this.state;\n\n      if (selectAllRef.current) {\n        if (this.props.permissions.length === countSelectedPermissions[e.value]) {\n          selectAllRef.current.checked = true;\n          hideLoadingSpinner();\n          return;\n        }\n\n        selectAllRef.current.checked = false;\n      }\n\n      this.setState({\n        selectedCategoryPermission: e.label\n      });\n      hideLoadingSpinner();\n    });\n\n    _defineProperty(this, \"handleSelectPermission\", e => {\n      const {\n        countSelectedPermissions,\n        selectedCategoryPermission\n      } = this.state;\n      let newSelectedPermissions = this.state.selectedPermissions;\n      let newCountSelectedPermissions = countSelectedPermissions;\n\n      if (e.target.checked) {\n        newSelectedPermissions[e.target.value] = true;\n\n        if (newCountSelectedPermissions[selectedCategoryPermission] && newCountSelectedPermissions[selectedCategoryPermission] !== \"\") {\n          newCountSelectedPermissions[selectedCategoryPermission] += 1;\n        } else {\n          newCountSelectedPermissions[selectedCategoryPermission] = 1;\n        }\n\n        this.setState({\n          countSelectedPermissions: newCountSelectedPermissions\n        });\n      } else {\n        delete newSelectedPermissions[e.target.value];\n\n        if (newCountSelectedPermissions[selectedCategoryPermission] && newCountSelectedPermissions[selectedCategoryPermission] !== \"\") {\n          newCountSelectedPermissions[selectedCategoryPermission] -= 1;\n        } else {\n          newCountSelectedPermissions[selectedCategoryPermission] = 0;\n        }\n\n        this.setState({\n          countSelectedPermissions: newCountSelectedPermissions\n        });\n      }\n\n      this.setState({\n        selectedPermissions: newSelectedPermissions\n      });\n    });\n\n    _defineProperty(this, \"handleSelectAllPermissions\", permissions => e => {\n      const {\n        countSelectedPermissions,\n        selectedCategoryPermission,\n        selectedPermissions\n      } = this.state;\n      const indexedPermissions = permissions.reduce((all, permission) => {\n        all[permission.id] = true;\n        return all;\n      }, {});\n\n      if (e.target.checked) {\n        Object.assign(selectedPermissions, indexedPermissions);\n        countSelectedPermissions[selectedCategoryPermission] = permissions.length;\n        this.setState({\n          selectedPermissions,\n          countSelectedPermissions\n        });\n      } else {\n        Object.keys(selectedPermissions).map(permission => {\n          if (selectedPermissions[permission] === indexedPermissions[permission]) {\n            delete selectedPermissions[permission];\n          }\n        });\n        countSelectedPermissions[selectedCategoryPermission] = 0;\n        this.setState({\n          selectedPermissions,\n          countSelectedPermissions\n        });\n      }\n    });\n\n    _defineProperty(this, \"handleSubmitRole\", async e => {\n      if (e) e.preventDefault();\n      const {\n        getRoleOpts\n      } = this.state;\n      const permissionIds = Object.keys(this.state.selectedPermissions);\n\n      if (permissionIds.length < 1) {\n        return toast.error(\"Permission tidak boleh kosong!\", {\n          position: toast.POSITION.TOP_RIGHT,\n          autoClose: 3000\n        });\n      }\n\n      showLoadingSpinner();\n      await this.props.storeRole(_objectSpread(_objectSpread({}, this.state.formData), {}, {\n        permission_ids: permissionIds\n      }));\n      await this.props.getRole(getRoleOpts);\n      hideLoadingSpinner();\n      this.setState({\n        createModalVisible: false\n      });\n    });\n\n    _defineProperty(this, \"handleUpdateRole\", async e => {\n      if (e) e.preventDefault();\n      const {\n        getRoleOpts\n      } = this.state;\n      const permissionIds = Object.keys(this.state.selectedPermissions);\n\n      if (permissionIds.length < 1) {\n        return toast.error(\"Permission tidak boleh kosong!\", {\n          position: toast.POSITION.TOP_RIGHT,\n          autoClose: 3000\n        });\n      }\n\n      showLoadingSpinner();\n\n      try {\n        await this.props.updateRole(_objectSpread(_objectSpread({}, this.state.formData), {}, {\n          permission_ids: permissionIds\n        })); // await this.props.getRole(getRoleOpts);\n      } catch (e) {//\n      }\n\n      hideLoadingSpinner(); // this.setState({\n      //   editModalVisible: false,\n      // });\n    });\n\n    _defineProperty(this, \"handleDeleteRole\", async () => {\n      const role = this.state.dataDelete.attributes;\n      showLoadingSpinner();\n      await this.props.destroyRole(role.id);\n      this.setState({\n        modalDelete: false\n      });\n      hideLoadingSpinner();\n    });\n\n    _defineProperty(this, \"fetchData\", async ({\n      pageSize,\n      pageIndex,\n      sortBy\n    }) => {\n      showLoadingSpinner();\n      let getRoleOpts = {\n        params: {\n          \"page[limit]\": pageSize,\n          \"page[num]\": pageIndex + 1,\n          \"filter[custom_name][not]\": \"verified\",\n          \"sort\": 'custom_name',\n          include: \"permissions\"\n        }\n      };\n      this.setState({\n        getRoleOpts\n      });\n      const {\n        roleMeta\n      } = this.props;\n      await this.props.getRole(getRoleOpts);\n      this.setState({\n        paginationRole: {\n          pageCount: Math.ceil(roleMeta.pagination.total / pageSize)\n        }\n      });\n      hideLoadingSpinner();\n    });\n\n    this.state = {\n      customStyles: {\n        rows: {\n          style: {\n            cursor: \"pointer\"\n          }\n        }\n      },\n      loading: true,\n      createModalVisible: false,\n      editModalVisible: false,\n      tabIndex: -1,\n      dataDelete: null,\n      selectedCategoryPermission: \"\",\n      selectedPermissions: {},\n      countSelectedPermissions: {},\n      formData: {\n        name: \"\"\n      },\n      paginationRole: {\n        pageCount: 0\n      },\n      getRoleOpts: {\n        params: {\n          \"page[limit]\": 10,\n          \"page[num]\": 1,\n          \"filter[custom_name][not]\": \"verified\"\n        }\n      }\n    };\n  }\n\n  async editData(rowData, index) {\n    const roleIncluded = this.props.roleIncluded;\n    const includedPermissions = roleIncluded && roleIncluded.permissions ? roleIncluded.permissions : [];\n    const {\n      relationships\n    } = rowData;\n    const permissions = relationships.permissions;\n    const indexedPermissions = permissions.reduce((all, permission) => {\n      all[permission.id] = true;\n      return all;\n    }, {});\n    const filteredPermissions = permissions.map(permission => {\n      if (includedPermissions[permission.id]) {\n        return includedPermissions[permission.id].attributes;\n      }\n    });\n    const countSelectedPermissions = listTables.reduce((all, tabel) => {\n      all[tabel.value] = filteredPermissions.filter(permission => {\n        const pattern = `.*${tabel.value}.*`;\n        const regexPattern = new RegExp(pattern, \"g\");\n        return permission.name.match(regexPattern);\n      }).length;\n      return all;\n    }, {});\n    this.setState({\n      editModalVisible: true,\n      editedPermissions: indexedPermissions,\n      selectedPermissions: indexedPermissions,\n      selectedCategoryPermission: \"\",\n      formData: _objectSpread(_objectSpread({}, rowData.attributes), {}, {\n        name: rowData.custom_name\n      }),\n      countSelectedPermissions\n    });\n  }\n\n  componentDidMount() {\n    // const { getRoleOpts } = this.state;\n    //this.props.getRole(getRoleOpts);\n    this.props.getPermissions({\n      params: {\n        \"page[limit]\": 10\n      }\n    });\n  }\n\n  render() {\n    const {\n      createModalVisible,\n      editModalVisible,\n      formData\n    } = this.state;\n    const {\n      permissions = [],\n      roleMeta\n    } = this.props;\n    return /*#__PURE__*/_jsxDEV(Layout, {\n      title: \"User Role\",\n      classname: \"dashboard theme-light\",\n      children: [this.state.dataDelete && /*#__PURE__*/_jsxDEV(Confirm, {\n        title: \"Delete Role\",\n        body: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"small\", {\n            children: [\"Are you sure you want to Delete User Role with the folowing details:\", \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 632,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              background: \"#F7F8FC\",\n              borderRadius: \"15px\",\n              marginTop: \"20px\",\n              padding: \"10px 10px 10px 10px\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"table\", {\n              children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    width: \"100px\",\n                    children: /*#__PURE__*/_jsxDEV(\"small\", {\n                      children: \"Role Name\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 648,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 647,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"small\", {\n                      children: \":\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 651,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 650,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"small\", {\n                      children: this.state.dataDelete.custom_name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 654,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 653,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 646,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    width: \"100px\",\n                    children: /*#__PURE__*/_jsxDEV(\"small\", {\n                      children: \"Total Permission\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 661,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 660,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"small\", {\n                      children: \":\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 664,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 663,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"small\", {\n                      children: this.state.dataDelete.relationships.permissions.length\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 667,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 666,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 659,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 645,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 644,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 636,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 631,\n          columnNumber: 15\n        }, this),\n        show: this.state.modalDelete,\n        deleteData: this.handleDeleteRole,\n        onHide: () => this.setState({\n          modalDelete: false\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 628,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        onHide: () => this.setState({\n          createModalVisible: false\n        }),\n        show: createModalVisible,\n        size: \"lg\",\n        backdrop: \"static\",\n        keyboard: false,\n        \"aria-labelledby\": \"contained-modal-title-vcenter\",\n        centered: true,\n        children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n          closeButton: true,\n          style: {\n            border: \"0\"\n          },\n          children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n            id: \"contained-modal-title-vcenter\",\n            children: \"Create User Role\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 700,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 699,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n          className: \"p-5\",\n          children: [/*#__PURE__*/_jsxDEV(Row, {\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              xs: \"4\",\n              className: \"pt-1\",\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Role Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 707,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 706,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              xs: \"5\",\n              children: /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"text\",\n                onChange: this.handleInput,\n                value: formData.name,\n                size: \"lg\",\n                placeholder: \"Role Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 710,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 709,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 705,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Row, {\n            className: \"pt-3\",\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              xs: \"4\",\n              className: \"pt-1\",\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Permission\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 722,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 721,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              xs: \"5\",\n              children: /*#__PURE__*/_jsxDEV(Select, {\n                styles: {\n                  menuList: provided => {\n                    return _objectSpread(_objectSpread({}, provided), {}, {\n                      backgroundColor: \"#fff\"\n                    });\n                  },\n                  control: (base, state) => _objectSpread(_objectSpread({}, base), {}, {\n                    \"&:hover\": {\n                      borderColor: \"#0daa66\"\n                    },\n                    border: state.isFocused ? \"1px solid #0daa66\" : \"1px solid #ccc\",\n                    boxShadow: \"none\"\n                  }),\n                  option: (styles, {\n                    data,\n                    isDisabled,\n                    isFocused,\n                    isSelected\n                  }) => {\n                    return _objectSpread(_objectSpread({}, styles), {}, {\n                      backgroundColor: isDisabled ? null : isSelected ? data.color : isFocused ? \"#D9FCED\" : null,\n                      color: isFocused ? \"#0DAA66\" : data.color,\n                      cursor: isDisabled ? \"not-allowed\" : \"pointer\",\n                      \":active\": _objectSpread(_objectSpread({}, styles[\":active\"]), {}, {\n                        backgroundColor: !isDisabled && (isSelected ? data.color : \"#D9FCED\")\n                      })\n                    });\n                  }\n                },\n                options: listTables,\n                placeholder: \"Select Category\",\n                onChange: this.handleChangeCategoryPermission\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 725,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 724,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 720,\n            columnNumber: 13\n          }, this), this.state.selectedCategoryPermission ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(Row, {\n              className: \"pt-3\",\n              children: /*#__PURE__*/_jsxDEV(Col, {\n                xs: \"12\",\n                style: {\n                  borderRadius: \"10px\",\n                  background: \"#ededed\"\n                },\n                className: \"p-3\",\n                children: [/*#__PURE__*/_jsxDEV(Row, {\n                  children: [/*#__PURE__*/_jsxDEV(Col, {\n                    xs: \"8\",\n                    children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: this.state.selectedCategoryPermission\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 781,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 780,\n                    columnNumber: 23\n                  }, this), permissions.length > 0 ? /*#__PURE__*/_jsxDEV(Col, {\n                    xs: \"4\",\n                    style: {\n                      textAlign: \"right\"\n                    },\n                    children: /*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"custom-checkbox\",\n                      style: {\n                        fontSize: \"12px\",\n                        backgroundColor: \"#ededed\"\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                        children: \"Select All\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 792,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"checkbox\",\n                        onChange: this.handleSelectAllPermissions(permissions),\n                        ref: selectAllRef\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 793,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"checkmark\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 800,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 785,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 784,\n                    columnNumber: 25\n                  }, this) : null]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 779,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Row, {\n                  children: /*#__PURE__*/_jsxDEV(Col, {\n                    xs: \"12\",\n                    children: /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 807,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 806,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 805,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Row, {\n                  children: permissions.length > 0 ? permissions.map(permission => /*#__PURE__*/_jsxDEV(Col, {\n                    xs: 3,\n                    children: /*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"custom-checkbox\",\n                      style: {\n                        fontSize: \"12px\",\n                        backgroundColor: \"#ededed\"\n                      },\n                      children: [permission.name, /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"checkbox\",\n                        onChange: this.handleSelectPermission,\n                        value: permission.id,\n                        checked: this.state.selectedPermissions[permission.id] ? this.state.selectedPermissions[permission.id] : false\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 822,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"checkmark\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 834,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 814,\n                      columnNumber: 29\n                    }, this)\n                  }, permission.id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 813,\n                    columnNumber: 27\n                  }, this)) : /*#__PURE__*/_jsxDEV(Col, {\n                    children: /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: [\"Permission\", \" \", /*#__PURE__*/_jsxDEV(\"b\", {\n                        children: this.state.selectedCategoryPermission\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 842,\n                        columnNumber: 29\n                      }, this), \" Not Found\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 840,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 839,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 810,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 774,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 773,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"mt-2\",\n              style: {\n                fontStyle: \"italic\"\n              },\n              children: [\"Total \", Object.keys(this.state.selectedPermissions).length, \" \", \"permissions selected\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 850,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true) : null]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 704,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n          style: {\n            border: \"0\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            className: \"btn-secondary-semanggi\",\n            onClick: () => this.setState({\n              createModalVisible: false\n            }),\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 858,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: this.handleSubmitRole,\n            className: \"btn-success-semanggi\",\n            children: \"CREATE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 868,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 857,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 686,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        onHide: () => this.setState({\n          editModalVisible: false\n        }),\n        show: editModalVisible,\n        size: \"lg\",\n        backdrop: \"static\",\n        keyboard: false,\n        \"aria-labelledby\": \"contained-modal-title-vcenter\",\n        centered: true,\n        children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n          closeButton: true,\n          style: {\n            border: \"0\"\n          },\n          children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n            id: \"contained-modal-title-vcenter\",\n            children: \"Edit User Role\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 891,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 890,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n          className: \"p-5\",\n          children: /*#__PURE__*/_jsxDEV(FormEditRoles, {\n            formData: formData,\n            selectedCategoryPermission: this.state.selectedCategoryPermission,\n            selectedPermissions: this.state.selectedPermissions,\n            countSelectedPermissions: this.state.countSelectedPermissions,\n            permissions: permissions,\n            selectAllRef: selectAllRef,\n            handleInput: this.handleInput,\n            handleChangeCategoryPermission: this.handleChangeCategoryPermission,\n            handleSelectPermission: this.handleSelectPermission,\n            handleSelectAllPermissions: this.handleSelectAllPermissions\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 896,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 895,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n          style: {\n            border: \"0\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            className: \"btn-secondary-semanggi\",\n            onClick: () => this.setState({\n              editModalVisible: false\n            }),\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 912,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: this.handleUpdateRole,\n            className: \"btn-success-semanggi\",\n            children: \"Update\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 922,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 911,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 877,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          lg: 12,\n          md: 12,\n          sm: 12,\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            style: {\n              backgroundColor: \"white\",\n              borderRadius: \"10px\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(Row, {\n              className: \"position-relative show-grid\",\n              style: {\n                margin: \"20px 20px 0px 20px\"\n              },\n              children: /*#__PURE__*/_jsxDEV(Col, {\n                xs: 12,\n                children: /*#__PURE__*/_jsxDEV(Form, {\n                  children: /*#__PURE__*/_jsxDEV(Form.Row, {\n                    className: \"align-items-center\",\n                    children: /*#__PURE__*/_jsxDEV(Col, {\n                      xs: \"12\",\n                      style: {\n                        textAlign: \"right\"\n                      },\n                      children: /*#__PURE__*/_jsxDEV(Button, {\n                        className: \"btn-success-semanggi\",\n                        onClick: () => this.setState({\n                          createModalVisible: true,\n                          formData: {\n                            name: \"\"\n                          },\n                          selectedPermissions: {}\n                        }),\n                        children: \"CREATE NEW ROLE\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 942,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 941,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 940,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 939,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 938,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 934,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Row, {\n              children: /*#__PURE__*/_jsxDEV(Col, {\n                xs: 12,\n                children: /*#__PURE__*/_jsxDEV(DataTable2, {\n                  data: this.props.data,\n                  totalData: this.props.roleMeta && this.props.roleMeta.pagination ? this.props.roleMeta.pagination.total : 0,\n                  columns: this.columns,\n                  loading: this.props.loading,\n                  filterable: false,\n                  fetchData: this.fetchData,\n                  pageCount: this.state.paginationRole.pageCount\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 963,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 962,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 961,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 933,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 932,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 931,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 626,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  const {\n    data,\n    included,\n    meta\n  } = state.role;\n  const {\n    permissions\n  } = state.permission;\n  const {\n    loading\n  } = state.loader;\n  return {\n    loading,\n    data: data,\n    roleIncluded: included,\n    roleMeta: meta,\n    permissions\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    getRole: opts => dispatch(getRole(opts)),\n    storeRole: payload => dispatch(storeRole(payload)),\n    updateRole: payload => dispatch(updateRole(payload)),\n    destroyRole: id => dispatch(destroyRole(id)),\n    getPermissions: opts => dispatch(getPermissions(opts))\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Index);","map":{"version":3,"sources":["/home/arifin/Documents/pretest/dashboard/src/pages/settings-role/index.js"],"names":["React","Card","Col","Row","Form","Button","Modal","Layout","showLoadingSpinner","hideLoadingSpinner","DataTable2","connect","dispatch","getRole","storeRole","updateRole","destroyRole","getPermissions","Confirm","toast","dayjs","Select","currentUserDontHaveRoles","selectAllRef","createRef","listTables","value","label","FormEditRoles","formData","selectedCategoryPermission","selectedPermissions","permissions","countSelectedPermissions","handleInput","handleChangeCategoryPermission","handleSelectPermission","handleSelectAllPermissions","name","menuList","provided","backgroundColor","control","base","state","borderColor","border","isFocused","boxShadow","borderRadius","background","length","textAlign","fontSize","map","permission","id","fontStyle","Object","keys","Index","Component","constructor","props","Header","accessor","Cell","cell","row","original","relationships","format","width","cursor","editData","setState","modalDelete","dataDelete","tabIndex","e","target","param","params","current","checked","newSelectedPermissions","newCountSelectedPermissions","indexedPermissions","reduce","all","assign","preventDefault","getRoleOpts","permissionIds","error","position","POSITION","TOP_RIGHT","autoClose","permission_ids","createModalVisible","role","attributes","pageSize","pageIndex","sortBy","include","roleMeta","paginationRole","pageCount","Math","ceil","pagination","total","customStyles","rows","style","loading","editModalVisible","rowData","index","roleIncluded","includedPermissions","filteredPermissions","tabel","filter","pattern","regexPattern","RegExp","match","editedPermissions","custom_name","componentDidMount","render","marginTop","padding","handleDeleteRole","option","styles","data","isDisabled","isSelected","color","handleSubmitRole","handleUpdateRole","margin","columns","fetchData","mapStateToProps","included","meta","loader","mapDispatchToProps","opts","payload"],"mappings":"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","sourcesContent":["import * as React from \"react\";\nimport { Card, Col, Row, Form, Button, Modal } from \"react-bootstrap\";\nimport Layout, {\n  showLoadingSpinner,\n  hideLoadingSpinner,\n} from \"../../components/Layout\";\nimport DataTable2 from \"../../components/DataTable2\";\nimport { connect, dispatch } from \"react-redux\";\nimport {\n  getRole,\n  storeRole,\n  updateRole,\n  destroyRole,\n} from \"redux/actions/role\";\nimport { getPermissions } from \"redux/actions/permission\";\nimport Confirm from \"../../components/Confirm\";\nimport { toast } from \"react-toastify\";\nimport dayjs from \"dayjs\";\nimport Select from \"react-select\";\nimport { currentUserDontHaveRoles } from \"libs/rolePermission\";\n\nlet selectAllRef = React.createRef();\n\nconst listTables = [\n  {\n    value: \"billing_counters\",\n    label: \"Billing Counters\",\n  },\n  {\n    value: \"billing_invoices\",\n    label: \"Billing Invoices\",\n  },\n  {\n    value: \"compan\",\n    label: \"Companies\",\n  },\n  {\n    value: \"company_wallet\",\n    label: \"Company Wallets\",\n  },\n  {\n    value: \"content_visibilit\",\n    label: \"Content Visibilities\",\n  },\n  {\n    value: \"content categor\",\n    label: \"Content Categories\",\n  },\n  {\n    value: \"content\",\n    label: \"Contents\",\n  },\n  {\n    value: \"interface\",\n    label: \"Interfaces\",\n  },\n  {\n    value: \"notification_activations\",\n    label: \"Notification Activations\",\n  },\n  {\n    value: \"notification_topics\",\n    label: \"Notification Topics\",\n  },\n  {\n    value: \"payment_reconciliation\",\n    label: \"Payment Reconciliations\",\n  },\n  {\n    value: \"payment_transaction\",\n    label: \"Payment Transactions\",\n  },\n  {\n    value: \"product categor\",\n    label: \"Product Categories\",\n  },\n  {\n    value: \"product\",\n    label: \"Products\",\n  },\n  {\n    value: \"role\",\n    label: \"Roles\",\n  },\n  {\n    value: \"schedule\",\n    label: \"Schedules\",\n  },\n  {\n    value: \"submission categor\",\n    label: \"Submission Categories\",\n  },\n  {\n    value: \"submission\",\n    label: \"Submissions\",\n  },\n  {\n    value: \"user_wallet\",\n    label: \"User Wallets\",\n  },\n  {\n    value: \"user\",\n    label: \"Users\",\n  },\n];\n\nconst FormEditRoles = ({\n  formData,\n  selectedCategoryPermission,\n  selectedPermissions,\n  permissions,\n  selectAllRef,\n  countSelectedPermissions,\n  handleInput,\n  handleChangeCategoryPermission,\n  handleSelectPermission,\n  handleSelectAllPermissions,\n}) => (\n  <div>\n    <Row>\n      <Col xs=\"4\" className=\"pt-1\">\n        <strong>Role Name</strong>\n      </Col>\n      <Col xs=\"5\">\n        <Form.Control\n          type=\"text\"\n          onChange={handleInput}\n          value={formData.name}\n          size={\"lg\"}\n          placeholder=\"Role Name\"\n        />\n      </Col>\n    </Row>\n    <Row className=\"pt-3\">\n      <Col xs=\"4\" className=\"pt-1\">\n        <strong>Permission</strong>\n      </Col>\n      <Col xs=\"5\">\n        <Select\n          styles={{\n            menuList: (provided) => {\n              return {\n                ...provided,\n                backgroundColor: \"#fff\",\n              };\n            },\n            control: (base, state) => ({\n              ...base,\n              \"&:hover\": { borderColor: \"#0daa66\" },\n              border: state.isFocused ? \"1px solid #0daa66\" : \"1px solid #ccc\",\n              boxShadow: \"none\",\n            }),\n          }}\n          options={listTables}\n          placeholder=\"Select Category\"\n          onChange={handleChangeCategoryPermission}\n        />\n      </Col>\n    </Row>\n    {selectedCategoryPermission ? (\n      <>\n        <Row className=\"pt-3\">\n          <Col\n            xs=\"12\"\n            style={{ borderRadius: \"10px\", background: \"#ededed\" }}\n            className=\"p-3\"\n          >\n            <Row>\n              <Col xs=\"8\">\n                <strong>{selectedCategoryPermission}</strong>\n              </Col>\n              {permissions.length > 0 ? (\n                <Col xs=\"4\" style={{ textAlign: \"right\" }}>\n                  <label\n                    className=\"custom-checkbox\"\n                    style={{\n                      fontSize: \"12px\",\n                      backgroundColor: \"#ededed\",\n                    }}\n                  >\n                    <b>Select All</b>\n                    <input\n                      type=\"checkbox\"\n                      onChange={handleSelectAllPermissions(permissions)}\n                      ref={selectAllRef}\n                      checked={\n                        countSelectedPermissions[selectedCategoryPermission] ===\n                        permissions.length\n                          ? true\n                          : false\n                      }\n                    />\n                    <span className=\"checkmark\"></span>\n                  </label>\n                </Col>\n              ) : null}\n            </Row>\n            <Row>\n              <Col xs=\"12\">\n                <hr />\n              </Col>\n            </Row>\n            <Row>\n              {permissions.length > 0 ? (\n                permissions.map((permission) => (\n                  <Col xs={3} key={permission.id}>\n                    <label\n                      className=\"custom-checkbox\"\n                      style={{\n                        fontSize: \"12px\",\n                        backgroundColor: \"#ededed\",\n                      }}\n                    >\n                      {permission.name}\n                      <input\n                        type=\"checkbox\"\n                        onChange={handleSelectPermission}\n                        value={permission.id}\n                        checked={\n                          selectedPermissions[permission.id]\n                            ? selectedPermissions[permission.id]\n                            : false\n                        }\n                      />\n                      <span className=\"checkmark\"></span>\n                    </label>\n                  </Col>\n                ))\n              ) : (\n                <Col>\n                  <p>\n                    Permission <b>{selectedCategoryPermission}</b> Not Found\n                  </p>\n                </Col>\n              )}\n            </Row>\n          </Col>\n        </Row>\n      </>\n    ) : null}\n    <p className=\"mt-2\" style={{ fontStyle: \"italic\" }}>\n      Total {Object.keys(selectedPermissions).length} permissions selected\n    </p>\n  </div>\n);\n\nclass Index extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      customStyles: {\n        rows: {\n          style: {\n            cursor: \"pointer\",\n          },\n        },\n      },\n      loading: true,\n      createModalVisible: false,\n      editModalVisible: false,\n      tabIndex: -1,\n      dataDelete: null,\n\n      selectedCategoryPermission: \"\",\n      selectedPermissions: {},\n      countSelectedPermissions: {},\n\n      formData: {\n        name: \"\",\n      },\n      paginationRole: {\n        pageCount: 0,\n      },\n\n      getRoleOpts: {\n        params: {\n          \"page[limit]\": 10,\n          \"page[num]\": 1,\n          \"filter[custom_name][not]\": \"verified\",\n        },\n      },\n    };\n  }\n\n  columns = [\n    {\n      Header: \"Role Name\",\n      accessor: \"custom_name\",\n    },\n    {\n      Header: \"Total Permissions\",\n      accessor: \"\",\n      Cell: (props) => (\n        <span>\n          {props.cell.row.original.relationships.permissions\n            ? props.cell.row.original.relationships.permissions.length\n            : \"0\"}\n        </span>\n      ),\n    },\n    {\n      Header: \"Last Updated\",\n      accessor: \"updated_at\",\n      Cell: (props) => (\n        <span>{dayjs(props.value).format(\"YYYY-MM-DD HH:mm:ss\")}</span>\n      ),\n    },\n    {\n      Header: \"Action\",\n      accessor: \"\",\n      Cell: (props) => {\n        return !currentUserDontHaveRoles([\"enterprise\"]) ? (\n          <div>\n            <img\n              className=\"mr-2\"\n              style={{ width: \"15px\", cursor: \"pointer\" }}\n              src=\"https://storage.googleapis.com/spaces-semanggi-app/back-office/super-entity/png/border-color-24px.png\"\n              onClick={() =>\n                this.editData(props.cell.row.original, props.cell.row.id)\n              }\n            />\n            <img\n              style={{ width: \"15px\", cursor: \"pointer\" }}\n              src=\"https://storage.googleapis.com/spaces-semanggi-app/back-office/super-entity/png/delete.png\"\n              onClick={() =>\n                this.setState({\n                  modalDelete: true,\n                  dataDelete: props.cell.row.original,\n                  tabIndex: props.cell.row.id,\n                })\n              }\n            />\n          </div>\n        ) : null;\n      },\n    },\n  ];\n\n  async editData(rowData, index) {\n    const roleIncluded = this.props.roleIncluded;\n    const includedPermissions =\n      roleIncluded && roleIncluded.permissions ? roleIncluded.permissions : [];\n    const { relationships } = rowData;\n    const permissions = relationships.permissions;\n    const indexedPermissions = permissions.reduce((all, permission) => {\n      all[permission.id] = true;\n      return all;\n    }, {});\n\n    const filteredPermissions = permissions.map((permission) => {\n      if (includedPermissions[permission.id]) {\n        return includedPermissions[permission.id].attributes;\n      }\n    });\n\n    const countSelectedPermissions = listTables.reduce((all, tabel) => {\n      all[tabel.value] = filteredPermissions.filter((permission) => {\n        const pattern = `.*${tabel.value}.*`;\n        const regexPattern = new RegExp(pattern, \"g\");\n        return permission.name.match(regexPattern);\n      }).length;\n      return all;\n    }, {});\n    this.setState({\n      editModalVisible: true,\n      editedPermissions: indexedPermissions,\n      selectedPermissions: indexedPermissions,\n      selectedCategoryPermission: \"\",\n      formData: {\n        ...rowData.attributes,\n        name: rowData.custom_name,\n      },\n      countSelectedPermissions,\n    });\n  }\n\n  componentDidMount() {\n    // const { getRoleOpts } = this.state;\n    //this.props.getRole(getRoleOpts);\n    this.props.getPermissions({\n      params: {\n        \"page[limit]\": 10,\n      },\n    });\n  }\n\n  handleInput = (e) => {\n    this.setState({\n      formData: {\n        ...this.state.formData,\n        name: e.target.value,\n      },\n    });\n  };\n\n  handleChangeCategoryPermission = async (e) => {\n    showLoadingSpinner();\n    let param = {\n      \"page[limit]\": 500,\n      \"filter[name][like]\": e.value,\n    }\n    if (e.label === 'Submissions' || e.label === 'Products' || e.label === 'Contents') {\n      param = {\n        \"page[limit]\": 500,\n        \"filter[name][like]\": e.value,\n        \"filter[name][not_like]\": \"categories\"\n      }\n    }\n    else if(e.label === 'Companies'){\n      param = {\n        \"page[limit]\": 500,\n        \"filter[name][like]\": e.value,\n        \"filter[name][not_like]\": \"wallet\"\n        // \"filter[name][not_like]\": \"interface\",\n        // \"filter[name][not_like]\": \"user\"\n      }\n    }\n    else if(e.label === 'Users'){\n      param = {\n        \"page[limit]\": 500,\n        \"filter[name][like]\": e.value,\n        \"filter[name][not_like]\": \"wallet\"\n      }\n    }\n    await this.props.getPermissions({\n      params : param\n    });\n\n    const { countSelectedPermissions } = this.state;\n\n    if (selectAllRef.current) {\n      if (this.props.permissions.length === countSelectedPermissions[e.value]) {\n        selectAllRef.current.checked = true;\n        hideLoadingSpinner();\n        return;\n      }\n      selectAllRef.current.checked = false;\n    }\n\n    this.setState({\n      selectedCategoryPermission: e.label,\n    });\n\n    hideLoadingSpinner();\n  };\n\n  handleSelectPermission = (e) => {\n    const { countSelectedPermissions, selectedCategoryPermission } = this.state;\n    let newSelectedPermissions = this.state.selectedPermissions;\n    let newCountSelectedPermissions = countSelectedPermissions;\n\n    if (e.target.checked) {\n      newSelectedPermissions[e.target.value] = true;\n      if (\n        newCountSelectedPermissions[selectedCategoryPermission] &&\n        newCountSelectedPermissions[selectedCategoryPermission] !== \"\"\n      ) {\n        newCountSelectedPermissions[selectedCategoryPermission] += 1;\n      } else {\n        newCountSelectedPermissions[selectedCategoryPermission] = 1;\n      }\n      this.setState({\n        countSelectedPermissions: newCountSelectedPermissions,\n      });\n    } else {\n      delete newSelectedPermissions[e.target.value];\n      if (\n        newCountSelectedPermissions[selectedCategoryPermission] &&\n        newCountSelectedPermissions[selectedCategoryPermission] !== \"\"\n      ) {\n        newCountSelectedPermissions[selectedCategoryPermission] -= 1;\n      } else {\n        newCountSelectedPermissions[selectedCategoryPermission] = 0;\n      }\n      this.setState({\n        countSelectedPermissions: newCountSelectedPermissions,\n      });\n    }\n\n    this.setState({\n      selectedPermissions: newSelectedPermissions,\n    });\n  };\n\n  handleSelectAllPermissions = (permissions) => (e) => {\n    const {\n      countSelectedPermissions,\n      selectedCategoryPermission,\n      selectedPermissions,\n    } = this.state;\n    const indexedPermissions = permissions.reduce((all, permission) => {\n      all[permission.id] = true;\n      return all;\n    }, {});\n    if (e.target.checked) {\n      Object.assign(selectedPermissions, indexedPermissions);\n      countSelectedPermissions[selectedCategoryPermission] = permissions.length;\n      this.setState({\n        selectedPermissions,\n        countSelectedPermissions,\n      });\n    } else {\n      Object.keys(selectedPermissions).map((permission) => {\n        if (\n          selectedPermissions[permission] === indexedPermissions[permission]\n        ) {\n          delete selectedPermissions[permission];\n        }\n      });\n      countSelectedPermissions[selectedCategoryPermission] = 0;\n      this.setState({\n        selectedPermissions,\n        countSelectedPermissions,\n      });\n    }\n  };\n\n  handleSubmitRole = async (e) => {\n    if (e) e.preventDefault();\n    const { getRoleOpts } = this.state;\n    const permissionIds = Object.keys(this.state.selectedPermissions);\n\n    if (permissionIds.length < 1) {\n      return toast.error(\"Permission tidak boleh kosong!\", {\n        position: toast.POSITION.TOP_RIGHT,\n        autoClose: 3000,\n      });\n    }\n\n    showLoadingSpinner();\n\n    await this.props.storeRole({\n      ...this.state.formData,\n      permission_ids: permissionIds,\n    });\n\n    await this.props.getRole(getRoleOpts);\n\n    hideLoadingSpinner();\n\n    this.setState({\n      createModalVisible: false,\n    });\n  };\n\n  handleUpdateRole = async (e) => {\n    if (e) e.preventDefault();\n\n    const { getRoleOpts } = this.state;\n    const permissionIds = Object.keys(this.state.selectedPermissions);\n\n    if (permissionIds.length < 1) {\n      return toast.error(\"Permission tidak boleh kosong!\", {\n        position: toast.POSITION.TOP_RIGHT,\n        autoClose: 3000,\n      });\n    }\n\n    showLoadingSpinner();\n    try {\n      await this.props.updateRole({\n        ...this.state.formData,\n        permission_ids: permissionIds,\n      });\n\n      // await this.props.getRole(getRoleOpts);\n    } catch (e) {\n      //\n    }\n\n    hideLoadingSpinner();\n\n    // this.setState({\n    //   editModalVisible: false,\n    // });\n  };\n\n  handleDeleteRole = async () => {\n    const role = this.state.dataDelete.attributes;\n\n    showLoadingSpinner();\n\n    await this.props.destroyRole(role.id);\n\n    this.setState({\n      modalDelete: false,\n    });\n\n    hideLoadingSpinner();\n  };\n\n  fetchData = async ({ pageSize, pageIndex, sortBy }) => {\n    showLoadingSpinner();\n\n    let getRoleOpts = {\n      params: {\n        \"page[limit]\": pageSize,\n        \"page[num]\": pageIndex + 1,\n        \"filter[custom_name][not]\": \"verified\",\n        \"sort\": 'custom_name',\n        include: \"permissions\",\n      },\n    };\n\n    this.setState({\n      getRoleOpts\n    });\n\n    const { roleMeta } = this.props;\n    \n    await this.props.getRole(getRoleOpts);\n    \n    this.setState({\n      paginationRole: {\n        pageCount: Math.ceil(roleMeta.pagination.total / pageSize),\n      },\n    });\n    \n    hideLoadingSpinner();\n  };\n\n  render() {\n    const { createModalVisible, editModalVisible, formData } = this.state;\n    const { permissions = [], roleMeta } = this.props;\n    return (\n      <Layout title=\"User Role\" classname=\"dashboard theme-light\">\n        {this.state.dataDelete && (\n          <Confirm\n            title=\"Delete Role\"\n            body={\n              <div>\n                <small>\n                  Are you sure you want to Delete User Role with the folowing\n                  details:{\" \"}\n                </small>\n                <div\n                  style={{\n                    background: \"#F7F8FC\",\n                    borderRadius: \"15px\",\n                    marginTop: \"20px\",\n                    padding: \"10px 10px 10px 10px\",\n                  }}\n                >\n                  <table>\n                    <tbody>\n                      <tr>\n                        <th width=\"100px\">\n                          <small>Role Name</small>\n                        </th>\n                        <td>\n                          <small>:</small>\n                        </td>\n                        <td>\n                          <small>\n                            {this.state.dataDelete.custom_name}\n                          </small>\n                        </td>\n                      </tr>\n                      <tr>\n                        <th width=\"100px\">\n                          <small>Total Permission</small>\n                        </th>\n                        <td>\n                          <small>:</small>\n                        </td>\n                        <td>\n                          <small>\n                            {\n                              this.state.dataDelete.relationships.permissions\n                                .length\n                            }\n                          </small>\n                        </td>\n                      </tr>\n                    </tbody>\n                  </table>\n                </div>\n              </div>\n            }\n            show={this.state.modalDelete}\n            deleteData={this.handleDeleteRole}\n            onHide={() => this.setState({ modalDelete: false })}\n          />\n        )}\n\n        <Modal\n          onHide={() =>\n            this.setState({\n              createModalVisible: false,\n            })\n          }\n          show={createModalVisible}\n          size=\"lg\"\n          backdrop=\"static\"\n          keyboard={false}\n          aria-labelledby=\"contained-modal-title-vcenter\"\n          centered\n        >\n          <Modal.Header closeButton style={{ border: \"0\" }}>\n            <Modal.Title id=\"contained-modal-title-vcenter\">\n              Create User Role\n            </Modal.Title>\n          </Modal.Header>\n          <Modal.Body className=\"p-5\">\n            <Row>\n              <Col xs=\"4\" className=\"pt-1\">\n                <strong>Role Name</strong>\n              </Col>\n              <Col xs=\"5\">\n                <Form.Control\n                  type=\"text\"\n                  onChange={this.handleInput}\n                  value={formData.name}\n                  size={\"lg\"}\n                  placeholder=\"Role Name\"\n                />\n              </Col>\n            </Row>\n\n            <Row className=\"pt-3\">\n              <Col xs=\"4\" className=\"pt-1\">\n                <strong>Permission</strong>\n              </Col>\n              <Col xs=\"5\">\n                <Select\n                  styles={{\n                    menuList: (provided) => {\n                      return {\n                        ...provided,\n                        backgroundColor: \"#fff\",\n                      };\n                    },\n                    control: (base, state) => ({\n                      ...base,\n                      \"&:hover\": { borderColor: \"#0daa66\" },\n                      border: state.isFocused\n                        ? \"1px solid #0daa66\"\n                        : \"1px solid #ccc\",\n                      boxShadow: \"none\",\n                    }),\n                    option: (\n                      styles,\n                      { data, isDisabled, isFocused, isSelected }\n                    ) => {\n                      return {\n                        ...styles,\n                        backgroundColor: isDisabled\n                          ? null\n                          : isSelected\n                          ? data.color\n                          : isFocused\n                          ? \"#D9FCED\"\n                          : null,\n                        color: isFocused ? \"#0DAA66\" : data.color,\n                        cursor: isDisabled ? \"not-allowed\" : \"pointer\",\n                        \":active\": {\n                          ...styles[\":active\"],\n                          backgroundColor:\n                            !isDisabled &&\n                            (isSelected ? data.color : \"#D9FCED\"),\n                        },\n                      };\n                    },\n                  }}\n                  options={listTables}\n                  placeholder=\"Select Category\"\n                  onChange={this.handleChangeCategoryPermission}\n                />\n              </Col>\n            </Row>\n            {this.state.selectedCategoryPermission ? (\n              <>\n                <Row className=\"pt-3\">\n                  <Col\n                    xs=\"12\"\n                    style={{ borderRadius: \"10px\", background: \"#ededed\" }}\n                    className=\"p-3\"\n                  >\n                    <Row>\n                      <Col xs=\"8\">\n                        <strong>{this.state.selectedCategoryPermission}</strong>\n                      </Col>\n                      {permissions.length > 0 ? (\n                        <Col xs=\"4\" style={{ textAlign: \"right\" }}>\n                          <label\n                            className=\"custom-checkbox\"\n                            style={{\n                              fontSize: \"12px\",\n                              backgroundColor: \"#ededed\",\n                            }}\n                          >\n                            <b>Select All</b>\n                            <input\n                              type=\"checkbox\"\n                              onChange={this.handleSelectAllPermissions(\n                                permissions\n                              )}\n                              ref={selectAllRef}\n                            />\n                            <span className=\"checkmark\"></span>\n                          </label>\n                        </Col>\n                      ) : null}\n                    </Row>\n                    <Row>\n                      <Col xs=\"12\">\n                        <hr />\n                      </Col>\n                    </Row>\n                    <Row>\n                      {permissions.length > 0 ? (\n                        permissions.map((permission) => (\n                          <Col xs={3} key={permission.id}>\n                            <label\n                              className=\"custom-checkbox\"\n                              style={{\n                                fontSize: \"12px\",\n                                backgroundColor: \"#ededed\",\n                              }}\n                            >\n                              {permission.name}\n                              <input\n                                type=\"checkbox\"\n                                onChange={this.handleSelectPermission}\n                                value={permission.id}\n                                checked={\n                                  this.state.selectedPermissions[permission.id]\n                                    ? this.state.selectedPermissions[\n                                        permission.id\n                                      ]\n                                    : false\n                                }\n                              />\n                              <span className=\"checkmark\"></span>\n                            </label>\n                          </Col>\n                        ))\n                      ) : (\n                        <Col>\n                          <p>\n                            Permission{\" \"}\n                            <b>{this.state.selectedCategoryPermission}</b> Not\n                            Found\n                          </p>\n                        </Col>\n                      )}\n                    </Row>\n                  </Col>\n                </Row>\n                <p className=\"mt-2\" style={{ fontStyle: \"italic\" }}>\n                  Total {Object.keys(this.state.selectedPermissions).length}{\" \"}\n                  permissions selected\n                </p>\n              </>\n            ) : null}\n          </Modal.Body>\n          <Modal.Footer style={{ border: \"0\" }}>\n            <Button\n              className=\"btn-secondary-semanggi\"\n              onClick={() =>\n                this.setState({\n                  createModalVisible: false,\n                })\n              }\n            >\n              Cancel\n            </Button>\n            <Button\n              onClick={this.handleSubmitRole}\n              className=\"btn-success-semanggi\"\n            >\n              CREATE\n            </Button>\n          </Modal.Footer>\n        </Modal>\n\n        <Modal\n          onHide={() =>\n            this.setState({\n              editModalVisible: false,\n            })\n          }\n          show={editModalVisible}\n          size=\"lg\"\n          backdrop=\"static\"\n          keyboard={false}\n          aria-labelledby=\"contained-modal-title-vcenter\"\n          centered\n        >\n          <Modal.Header closeButton style={{ border: \"0\" }}>\n            <Modal.Title id=\"contained-modal-title-vcenter\">\n              Edit User Role\n            </Modal.Title>\n          </Modal.Header>\n          <Modal.Body className=\"p-5\">\n            <FormEditRoles\n              formData={formData}\n              selectedCategoryPermission={this.state.selectedCategoryPermission}\n              selectedPermissions={this.state.selectedPermissions}\n              countSelectedPermissions={this.state.countSelectedPermissions}\n              permissions={permissions}\n              selectAllRef={selectAllRef}\n              handleInput={this.handleInput}\n              handleChangeCategoryPermission={\n                this.handleChangeCategoryPermission\n              }\n              handleSelectPermission={this.handleSelectPermission}\n              handleSelectAllPermissions={this.handleSelectAllPermissions}\n            />\n          </Modal.Body>\n          <Modal.Footer style={{ border: \"0\" }}>\n            <Button\n              className=\"btn-secondary-semanggi\"\n              onClick={() =>\n                this.setState({\n                  editModalVisible: false,\n                })\n              }\n            >\n              Cancel\n            </Button>\n            <Button\n              onClick={this.handleUpdateRole}\n              className=\"btn-success-semanggi\"\n            >\n              Update\n            </Button>\n          </Modal.Footer>\n        </Modal>\n        {/* DataTable */}\n        <Row>\n          <Col lg={12} md={12} sm={12}>\n            <Card style={{ backgroundColor: \"white\", borderRadius: \"10px\" }}>\n              <Row\n                className=\"position-relative show-grid\"\n                style={{ margin: \"20px 20px 0px 20px\" }}\n              >\n                <Col xs={12}>\n                  <Form>\n                    <Form.Row className=\"align-items-center\">\n                      <Col xs=\"12\" style={{ textAlign: \"right\" }}>\n                        <Button\n                          className=\"btn-success-semanggi\"\n                          onClick={() =>\n                            this.setState({\n                              createModalVisible: true,\n                              formData: {\n                                name: \"\",\n                              },\n                              selectedPermissions: {},\n                            })\n                          }\n                        >\n                          CREATE NEW ROLE\n                        </Button>\n                      </Col>\n                    </Form.Row>\n                  </Form>\n                </Col>\n              </Row>\n              <Row>\n                <Col xs={12}>\n                  <DataTable2\n                    data={this.props.data}\n                    totalData={\n                      this.props.roleMeta && this.props.roleMeta.pagination\n                        ? this.props.roleMeta.pagination.total\n                        : 0\n                    }\n                    columns={this.columns}\n                    loading={this.props.loading}\n                    filterable={false}\n                    fetchData={this.fetchData}\n                    pageCount={this.state.paginationRole.pageCount}\n                  />\n                </Col>\n              </Row>\n            </Card>\n          </Col>\n        </Row>\n      </Layout>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  const { data, included, meta } = state.role;\n  const { permissions } = state.permission;\n  const { loading } = state.loader;\n  return {\n    loading,\n    data: data,\n    roleIncluded: included,\n    roleMeta: meta,\n    permissions,\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    getRole: (opts) => dispatch(getRole(opts)),\n    storeRole: (payload) => dispatch(storeRole(payload)),\n    updateRole: (payload) => dispatch(updateRole(payload)),\n    destroyRole: (id) => dispatch(destroyRole(id)),\n    getPermissions: (opts) => dispatch(getPermissions(opts)),\n  };\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(Index);\n"]},"metadata":{},"sourceType":"module"}