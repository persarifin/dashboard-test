{"ast":null,"code":"import Router from \"next/router\";\nimport NProgress from \"nprogress\";\nlet timer;\nlet state;\nlet activeRequests = 0;\nconst delay = 250;\n\nfunction load() {\n  if (state === \"loading\") {\n    return;\n  }\n\n  state = \"loading\";\n  timer = setTimeout(function () {\n    NProgress.start();\n  }, delay); // only show progress bar if it takes longer than the delay\n}\n\nfunction stop() {\n  if (activeRequests > 0) {\n    return;\n  }\n\n  state = \"stop\";\n  clearTimeout(timer);\n  NProgress.done();\n}\n\nRouter.events.on(\"routeChangeStart\", load);\nRouter.events.on(\"routeChangeComplete\", stop);\nRouter.events.on(\"routeChangeError\", stop);\nconst originalFetch = window.fetch;\n\nwindow.fetch = async function (...args) {\n  if (activeRequests === 0) {\n    load();\n  }\n\n  activeRequests++;\n\n  try {\n    const response = await originalFetch(...args);\n    return response;\n  } catch (error) {\n    return Promise.reject(error);\n  } finally {\n    activeRequests -= 1;\n\n    if (activeRequests === 0) {\n      stop();\n    }\n  }\n};\n\nexport default function () {\n  return null;\n}","map":{"version":3,"sources":["/home/arifin/Documents/semanggi/semanggi-bo/src/components/TopProgressBar.js"],"names":["Router","NProgress","timer","state","activeRequests","delay","load","setTimeout","start","stop","clearTimeout","done","events","on","originalFetch","window","fetch","args","response","error","Promise","reject"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,aAAnB;AACA,OAAOC,SAAP,MAAsB,WAAtB;AAEA,IAAIC,KAAJ;AACA,IAAIC,KAAJ;AACA,IAAIC,cAAc,GAAG,CAArB;AACA,MAAMC,KAAK,GAAG,GAAd;;AAEA,SAASC,IAAT,GAAgB;AACd,MAAIH,KAAK,KAAK,SAAd,EAAyB;AACvB;AACD;;AAEDA,EAAAA,KAAK,GAAG,SAAR;AAEAD,EAAAA,KAAK,GAAGK,UAAU,CAAC,YAAY;AAC7BN,IAAAA,SAAS,CAACO,KAAV;AACD,GAFiB,EAEfH,KAFe,CAAlB,CAPc,CASH;AACZ;;AAED,SAASI,IAAT,GAAgB;AACd,MAAIL,cAAc,GAAG,CAArB,EAAwB;AACtB;AACD;;AAEDD,EAAAA,KAAK,GAAG,MAAR;AAEAO,EAAAA,YAAY,CAACR,KAAD,CAAZ;AACAD,EAAAA,SAAS,CAACU,IAAV;AACD;;AAEDX,MAAM,CAACY,MAAP,CAAcC,EAAd,CAAiB,kBAAjB,EAAqCP,IAArC;AACAN,MAAM,CAACY,MAAP,CAAcC,EAAd,CAAiB,qBAAjB,EAAwCJ,IAAxC;AACAT,MAAM,CAACY,MAAP,CAAcC,EAAd,CAAiB,kBAAjB,EAAqCJ,IAArC;AAEA,MAAMK,aAAa,GAAGC,MAAM,CAACC,KAA7B;;AACAD,MAAM,CAACC,KAAP,GAAe,gBAAgB,GAAGC,IAAnB,EAAyB;AACtC,MAAIb,cAAc,KAAK,CAAvB,EAA0B;AACxBE,IAAAA,IAAI;AACL;;AAEDF,EAAAA,cAAc;;AAEd,MAAI;AACF,UAAMc,QAAQ,GAAG,MAAMJ,aAAa,CAAC,GAAGG,IAAJ,CAApC;AACA,WAAOC,QAAP;AACD,GAHD,CAGE,OAAOC,KAAP,EAAc;AACd,WAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACD,GALD,SAKU;AACRf,IAAAA,cAAc,IAAI,CAAlB;;AACA,QAAIA,cAAc,KAAK,CAAvB,EAA0B;AACxBK,MAAAA,IAAI;AACL;AACF;AACF,CAlBD;;AAoBA,eAAe,YAAY;AACzB,SAAO,IAAP;AACD","sourcesContent":["import Router from \"next/router\";\nimport NProgress from \"nprogress\";\n\nlet timer;\nlet state;\nlet activeRequests = 0;\nconst delay = 250;\n\nfunction load() {\n  if (state === \"loading\") {\n    return;\n  }\n\n  state = \"loading\";\n\n  timer = setTimeout(function () {\n    NProgress.start();\n  }, delay); // only show progress bar if it takes longer than the delay\n}\n\nfunction stop() {\n  if (activeRequests > 0) {\n    return;\n  }\n\n  state = \"stop\";\n\n  clearTimeout(timer);\n  NProgress.done();\n}\n\nRouter.events.on(\"routeChangeStart\", load);\nRouter.events.on(\"routeChangeComplete\", stop);\nRouter.events.on(\"routeChangeError\", stop);\n\nconst originalFetch = window.fetch;\nwindow.fetch = async function (...args) {\n  if (activeRequests === 0) {\n    load();\n  }\n\n  activeRequests++;\n\n  try {\n    const response = await originalFetch(...args);\n    return response;\n  } catch (error) {\n    return Promise.reject(error);\n  } finally {\n    activeRequests -= 1;\n    if (activeRequests === 0) {\n      stop();\n    }\n  }\n};\n\nexport default function () {\n  return null;\n}"]},"metadata":{},"sourceType":"module"}